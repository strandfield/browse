<!DOCTYPE html>
<html><head><title>sql</title><link rel="stylesheet" type="text/css" href="../symbolpage.css"/></head><body><h1>sql</h1><p/><p><b>Usr:</b> c:@N@sql</p>
<h2>Definitions (3)</h2><p><a href="../csnap/db/include/csnap/database/sql.h.html#L14">C:/projects/csnap/db/include/csnap/database/sql.h:14</a></p><p><a href="../csnap/db/include/csnap/database/transaction.h.html#L10">C:/projects/csnap/db/include/csnap/database/transaction.h:10</a></p><p><a href="../csnap/db/src/sql.cpp.html#L7">C:/projects/csnap/db/src/sql.cpp:7</a></p><h2>Uses (34)</h2><h3>C:/projects/csnap/db/include/csnap/database/symbolloader.h (2)</h3><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/symbolloader.h.html#L33">33</a></div><div class="code">  <span class="here">sql</span>::Statement m_query;</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/symbolloader.h.html#L58">58</a></div><div class="code">  <span class="here">sql</span>::Statement m_query;</div></div><h3>C:/projects/csnap/db/include/csnap/database/transaction.h (2)</h3><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/transaction.h.html#L38">38</a></div><div class="code">  <span class="here">sql</span>::exec(m_database, "BEGIN TRANSACTION");</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/transaction.h.html#L46">46</a></div><div class="code">  <span class="here">sql</span>::exec(m_database, "COMMIT");</div></div><h3>C:/projects/csnap/db/src/snapshot.cpp (1)</h3><div class="use"><div class="ln"><a href="../csnap/db/src/snapshot.cpp.html#L544">544</a></div><div class="code">  <span class="here">sql</span>::Transaction transaction{ *m_database };</div></div><h3>C:/projects/csnap/db/src/sqlqueries.cpp (29)</h3><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L201">201</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT file_id, line, col, parent_symbol_id, flags FROM symbolreference WHERE symbol_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L205">205</a></div><div class="code">  return read_vector&lt;SymbolReference&gt;(stmt, [&amp;symbol](<span class="here">sql</span>::Statement&amp; stmt) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L230">230</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT symbol_id, line, col, parent_symbol_id, flags FROM symbolreference WHERE file_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L268">268</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT symbol_id, file_id, line, col, flags FROM symboldefinition" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L298">298</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT base_id, access_specifier FROM base WHERE symbol_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L301">301</a></div><div class="code">  return read_vector&lt;BaseClass&gt;(stmt, [](<span class="here">sql</span>::Statement&amp; q) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L316">316</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT symbol_id FROM base WHERE base_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L319">319</a></div><div class="code">  return read_vector&lt;SymbolId&gt;(stmt, [](<span class="here">sql</span>::Statement&amp; q) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L326">326</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "INSERT INTO file(id, path) VALUES(?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L338">338</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "UPDATE file SET content = ? WHERE id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L411">411</a></div><div class="code">static int get_compile_options_id(std::map&lt;const program::CompileOptions*, int&gt;&amp; map, <span class="here">sql</span>::Statement&amp; insert_query, const program::CompileOptions* copts)</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L435">435</a></div><div class="code">  <span class="here">sql</span>::Statement coptions_query{ db, "INSERT INTO compileoptions(defines, includedirs) VALUES(?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L436">436</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "INSERT INTO translationunit(id, file_id, compileoptions_id) VALUES(?, ?, ?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L453">453</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "UPDATE translationunit SET ast = ? WHERE id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L465">465</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "INSERT INTO ppinclude (translationunit_id, file_id, line, included_file_id) VALUES(?,?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L487">487</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "INSERT OR IGNORE INTO include (file_id, line, included_file_id) VALUES(?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L504">504</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "INSERT OR REPLACE INTO symbol(id, what, parent, name, displayname, flags) VALUES(?,?,?,?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L528">528</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "INSERT OR REPLACE INTO symbol(id, what, parent, name, usr, displayname, flags) VALUES(?,?,?,?,?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L559">559</a></div><div class="code">  <span class="here">sql</span>::Statement query{</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L587">587</a></div><div class="code">  <span class="here">sql</span>::Statement query{</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L609">609</a></div><div class="code">File read_file(<span class="here">sql</span>::Statement&amp; stmt, int id_col = 0, int path_col = 1)</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L619">619</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT id, path FROM file" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L620">620</a></div><div class="code">  return read_vector&lt;File&gt;(stmt, [](<span class="here">sql</span>::Statement&amp; q) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L627">627</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT content FROM file WHERE id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L698">698</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT id, defines, includedirs FROM compileoptions" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L717">717</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, "SELECT id, file_id, compileoptions_id FROM translationunit" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L719">719</a></div><div class="code">  return read_vector&lt;TranslationUnit&gt;(stmt, [&amp;copts](<span class="here">sql</span>::Statement&amp; stmt) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L748">748</a></div><div class="code">  <span class="here">sql</span>::Statement stmt{ db, </div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L755">755</a></div><div class="code">  return read_vector&lt;Include&gt;(stmt, [](<span class="here">sql</span>::Statement&amp; stmt) {</div></div></body></html>