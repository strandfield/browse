<!DOCTYPE html>
<html><head><title>Statement</title><link rel="stylesheet" type="text/css" href="../symbolpage.css"/></head><body><h1>Statement</h1><p/><p>Semantic parent: <a href="4774.sql.html">sql</a></p><p><b>Usr:</b> c:@N@sql@S@Statement</p>
<h2>Definition</h2><p><a href="../csnap/db/include/csnap/database/sql.h.html#L19">C:/projects/csnap/db/include/csnap/database/sql.h:19</a></p><h2>Uses (61)</h2><h3>C:/projects/csnap/db/include/csnap/database/sql.h (30)</h3><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L26">26</a></div><div class="code">  explicit <span class="here">Statement</span>(Database&amp; db);</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L27">27</a></div><div class="code">  <span class="here">Statement</span>(Database&amp; db, const char* query);</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L28">28</a></div><div class="code">  <span class="here">Statement</span>(const Statement&amp;) = delete;</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L28">28</a></div><div class="code">  Statement(const <span class="here">Statement</span>&amp;) = delete;</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L29">29</a></div><div class="code">  <span class="here">Statement</span>(Statement&amp;&amp; other);</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L29">29</a></div><div class="code">  Statement(<span class="here">Statement</span>&amp;&amp; other);</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L30">30</a></div><div class="code">  ~<span class="here">Statement</span>();</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L51">51</a></div><div class="code">inline <span class="here">Statement</span>::Statement(Database&amp; db)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L51">51</a></div><div class="code">inline Statement::<span class="here">Statement</span>(Database&amp; db)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L57">57</a></div><div class="code">inline <span class="here">Statement</span>::Statement(Database&amp; db, const char* query)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L57">57</a></div><div class="code">inline Statement::<span class="here">Statement</span>(Database&amp; db, const char* query)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L63">63</a></div><div class="code">inline <span class="here">Statement</span>::Statement(Statement&amp;&amp; other) :</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L63">63</a></div><div class="code">inline Statement::<span class="here">Statement</span>(Statement&amp;&amp; other) :</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L63">63</a></div><div class="code">inline Statement::Statement(<span class="here">Statement</span>&amp;&amp; other) :</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L70">70</a></div><div class="code">inline <span class="here">Statement</span>::~Statement()</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L70">70</a></div><div class="code">inline Statement::~<span class="here">Statement</span>()</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L75">75</a></div><div class="code">inline bool <span class="here">Statement</span>::prepare(const char* query)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L81">81</a></div><div class="code">inline bool <span class="here">Statement</span>::step()</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L87">87</a></div><div class="code">inline void <span class="here">Statement</span>::reset()</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L92">92</a></div><div class="code">inline void <span class="here">Statement</span>::finalize()</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L98">98</a></div><div class="code">inline std::string <span class="here">Statement</span>::errormsg() const</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L103">103</a></div><div class="code">inline int <span class="here">Statement</span>::rowid() const</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L108">108</a></div><div class="code">inline void <span class="here">Statement</span>::bind(int n, std::nullptr_t)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L113">113</a></div><div class="code">inline void <span class="here">Statement</span>::bind(int n, const char* text)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L118">118</a></div><div class="code">inline void <span class="here">Statement</span>::bind(int n, std::string&amp;&amp; text)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L123">123</a></div><div class="code">inline void <span class="here">Statement</span>::bind(int n, int value)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L128">128</a></div><div class="code">inline void <span class="here">Statement</span>::bindBlob(int n, const std::string&amp; bytes)</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L133">133</a></div><div class="code">inline bool <span class="here">Statement</span>::nullColumn(int n) const</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L138">138</a></div><div class="code">inline std::string <span class="here">Statement</span>::column(int n) const</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/sql.h.html#L143">143</a></div><div class="code">inline int <span class="here">Statement</span>::columnInt(int n) const</div></div><h3>C:/projects/csnap/db/include/csnap/database/symbolloader.h (2)</h3><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/symbolloader.h.html#L33">33</a></div><div class="code">  sql::<span class="here">Statement</span> m_query;</div></div><div class="use"><div class="ln"><a href="../csnap/db/include/csnap/database/symbolloader.h.html#L58">58</a></div><div class="code">  sql::<span class="here">Statement</span> m_query;</div></div><h3>C:/projects/csnap/db/src/sqlqueries.cpp (29)</h3><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L201">201</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT file_id, line, col, parent_symbol_id, flags FROM symbolreference WHERE symbol_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L205">205</a></div><div class="code">  return read_vector&lt;SymbolReference&gt;(stmt, [&amp;symbol](sql::<span class="here">Statement</span>&amp; stmt) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L230">230</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT symbol_id, line, col, parent_symbol_id, flags FROM symbolreference WHERE file_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L268">268</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT symbol_id, file_id, line, col, flags FROM symboldefinition" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L298">298</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT base_id, access_specifier FROM base WHERE symbol_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L301">301</a></div><div class="code">  return read_vector&lt;BaseClass&gt;(stmt, [](sql::<span class="here">Statement</span>&amp; q) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L316">316</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT symbol_id FROM base WHERE base_id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L319">319</a></div><div class="code">  return read_vector&lt;SymbolId&gt;(stmt, [](sql::<span class="here">Statement</span>&amp; q) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L326">326</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "INSERT INTO file(id, path) VALUES(?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L338">338</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "UPDATE file SET content = ? WHERE id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L411">411</a></div><div class="code">static int get_compile_options_id(std::map&lt;const program::CompileOptions*, int&gt;&amp; map, sql::<span class="here">Statement</span>&amp; insert_query, const program::CompileOptions* copts)</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L435">435</a></div><div class="code">  sql::<span class="here">Statement</span> coptions_query{ db, "INSERT INTO compileoptions(defines, includedirs) VALUES(?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L436">436</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "INSERT INTO translationunit(id, file_id, compileoptions_id) VALUES(?, ?, ?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L453">453</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "UPDATE translationunit SET ast = ? WHERE id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L465">465</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "INSERT INTO ppinclude (translationunit_id, file_id, line, included_file_id) VALUES(?,?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L487">487</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "INSERT OR IGNORE INTO include (file_id, line, included_file_id) VALUES(?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L504">504</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "INSERT OR REPLACE INTO symbol(id, what, parent, name, displayname, flags) VALUES(?,?,?,?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L528">528</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "INSERT OR REPLACE INTO symbol(id, what, parent, name, usr, displayname, flags) VALUES(?,?,?,?,?,?,?)" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L559">559</a></div><div class="code">  sql::<span class="here">Statement</span> query{</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L587">587</a></div><div class="code">  sql::<span class="here">Statement</span> query{</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L609">609</a></div><div class="code">File read_file(sql::<span class="here">Statement</span>&amp; stmt, int id_col = 0, int path_col = 1)</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L619">619</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT id, path FROM file" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L620">620</a></div><div class="code">  return read_vector&lt;File&gt;(stmt, [](sql::<span class="here">Statement</span>&amp; q) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L627">627</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT content FROM file WHERE id = ?" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L698">698</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT id, defines, includedirs FROM compileoptions" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L717">717</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, "SELECT id, file_id, compileoptions_id FROM translationunit" };</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L719">719</a></div><div class="code">  return read_vector&lt;TranslationUnit&gt;(stmt, [&amp;copts](sql::<span class="here">Statement</span>&amp; stmt) {</div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L748">748</a></div><div class="code">  sql::<span class="here">Statement</span> stmt{ db, </div></div><div class="use"><div class="ln"><a href="../csnap/db/src/sqlqueries.cpp.html#L755">755</a></div><div class="code">  return read_vector&lt;Include&gt;(stmt, [](sql::<span class="here">Statement</span>&amp; stmt) {</div></div></body></html>