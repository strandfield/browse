<!DOCTYPE html>
<html><head><title>C:/projects/csnap/src/cli.h</title><link id="codestylesheet" rel="stylesheet" type="text/css" href="../../syntax.qtcreator.css"/><link rel="stylesheet" type="text/css" href="../../tooltip.css"/><script type="text/javascript">var csnapRootPath="../../";</script><script type="text/javascript" src="../../codenav.js"> </script></head><body><div id="content"><h2>Include graph</h2><p>This file is included by the following file(s):</p><ul><li><a href="export.cpp.html#L2">C:/projects/csnap/src/export.cpp:2</a></li><li><a href="scan.cpp.html#L2">C:/projects/csnap/src/scan.cpp:2</a></li></ul><h2>Code</h2><table class="code" file-id="9"><tbody><tr><th id="L1">1</th><td/></tr><tr><th id="L2">2</th><td><u>#pragma</u> once</td></tr><tr><th id="L3">3</th><td/></tr><tr><th id="L4">4</th><td><i>/**</i></td></tr><tr><th id="L5">5</th><td><i> * \file cli.h</i></td></tr><tr><th id="L6">6</th><td><i> * \brief provides command-line parsing helper functions</i></td></tr><tr><th id="L7">7</th><td><i> * </i></td></tr><tr><th id="L8">8</th><td><i> * This file provides several helper functions to help parse the </i></td></tr><tr><th id="L9">9</th><td><i> * command line arguments.</i></td></tr><tr><th id="L10">10</th><td><i> */</i></td></tr><tr><th id="L11">11</th><td/></tr><tr><th id="L12">12</th><td><u>#include</u> <span class="include">&lt;algorithm&gt;</span></td></tr><tr><th id="L13">13</th><td><u>#include</u> <span class="include">&lt;stdexcept&gt;</span></td></tr><tr><th id="L14">14</th><td><u>#include</u> <span class="include">&lt;string&gt;</span></td></tr><tr><th id="L15">15</th><td><u>#include</u> <span class="include">&lt;vector&gt;</span></td></tr><tr><th id="L16">16</th><td/></tr><tr><th id="L17">17</th><td><b>inline</b> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="fn" sym-ref="4498.read_arg_val">read_arg_val</dfn>(<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="45.vector">vector</span>&lt;<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt;&amp; args, <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="45.vector">vector</span>&lt;<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt;::<span class="type cxxtypealias" sym-ref="4499.iterator">iterator</span> it)</td></tr><tr><th id="L18">18</th><td>{</td></tr><tr><th id="L19">19</th><td>  <b>if</b> (<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="4500.next">next</span>(it) <span class="member memfn" sym-ref="2627.operator==">==</span> args.<span class="member memfn" sym-ref="2083.end">end</span>())</td></tr><tr><th id="L20">20</th><td>    <b>throw</b> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::runtime_error(<var>"missing value for cli option: "</var> + *it);</td></tr><tr><th id="L21">21</th><td/></tr><tr><th id="L22">22</th><td>  <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">val</span>{ <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1399.move">move</span>(<span class="member memfn" sym-ref="2558.operator*">*</span><a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="4500.next">next</span>(it)) };</td></tr><tr><th id="L23">23</th><td>  args.<span class="member memfn" sym-ref="2422.erase">erase</span>(it, it <span class="member memfn" sym-ref="2692.operator+">+</span> <var>2</var>);</td></tr><tr><th id="L24">24</th><td>  <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">val</span>;</td></tr><tr><th id="L25">25</th><td>}</td></tr><tr><th id="L26">26</th><td/></tr><tr><th id="L27">27</th><td><i>/**</i></td></tr><tr><th id="L28">28</th><td><i> * \brief read a command line argument</i></td></tr><tr><th id="L29">29</th><td><i> * \param args   list of command line arguments</i></td></tr><tr><th id="L30">30</th><td><i> * \param names  possible names for the argument</i></td></tr><tr><th id="L31">31</th><td><i> * \return the value of the argument</i></td></tr><tr><th id="L32">32</th><td><i> * </i></td></tr><tr><th id="L33">33</th><td><i> * If the argument cannot be found under any of the provided \a names, an exception </i></td></tr><tr><th id="L34">34</th><td><i> * of type std::runtime_error is thrown.</i></td></tr><tr><th id="L35">35</th><td><i> * </i></td></tr><tr><th id="L36">36</th><td><i> * The argument is removed from \a args after being read.</i></td></tr><tr><th id="L37">37</th><td><i> */</i></td></tr><tr><th id="L38">38</th><td><b>inline</b> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="fn" sym-ref="4501.read_arg">read_arg</dfn>(<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="45.vector">vector</span>&lt;<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt;&amp; args, <em>const</em> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="45.vector">vector</span>&lt;<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt;&amp; names)</td></tr><tr><th id="L39">39</th><td>{</td></tr><tr><th id="L40">40</th><td>  <b>auto</b> it = <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1397.find_if">find_if</span>(args.<span class="member memfn" sym-ref="1903.begin">begin</span>(), args.<span class="member memfn" sym-ref="2083.end">end</span>(), [&amp;names](<em>const</em> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; a) {</td></tr><tr><th id="L41">41</th><td>    <b>return</b> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2561.find">find</span>(names.<span class="member memfn" sym-ref="1893.begin">begin</span>(), names.<span class="member memfn" sym-ref="1894.end">end</span>(), a) <span class="member memfn" sym-ref="1885.operator!=">!=</span> names.<span class="member memfn" sym-ref="1894.end">end</span>();</td></tr><tr><th id="L42">42</th><td>    });</td></tr><tr><th id="L43">43</th><td/></tr><tr><th id="L44">44</th><td>  <b>if</b> (it <span class="member memfn" sym-ref="2627.operator==">==</span> args.<span class="member memfn" sym-ref="2083.end">end</span>())</td></tr><tr><th id="L45">45</th><td>    <b>throw</b> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::runtime_error(<var>"missing cli option: "</var> + names.front());</td></tr><tr><th id="L46">46</th><td/></tr><tr><th id="L47">47</th><td>  <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">read_arg_val</span>(args, it);</td></tr><tr><th id="L48">48</th><td>}</td></tr><tr><th id="L49">49</th><td/></tr><tr><th id="L50">50</th><td><i>/**</i></td></tr><tr><th id="L51">51</th><td><i> * \brief look for an optional flag in the command line arguments</i></td></tr><tr><th id="L52">52</th><td><i> * \param args   the list of command line arguments</i></td></tr><tr><th id="L53">53</th><td><i> * \param names  possible names for the flag to look for</i></td></tr><tr><th id="L54">54</th><td><i> * \return true if the flag was found, false otherwise</i></td></tr><tr><th id="L55">55</th><td><i> * </i></td></tr><tr><th id="L56">56</th><td><i> * If the flag is found in \a args, it is removed from the list.</i></td></tr><tr><th id="L57">57</th><td><i> */</i></td></tr><tr><th id="L58">58</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="4502.read_optional_flag">read_optional_flag</dfn>(<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="45.vector">vector</span>&lt;<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt;&amp; args, <em>const</em> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="45.vector">vector</span>&lt;<a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt;&amp; names)</td></tr><tr><th id="L59">59</th><td>{</td></tr><tr><th id="L60">60</th><td>  <b>auto</b> it = <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1397.find_if">find_if</span>(args.<span class="member memfn" sym-ref="1903.begin">begin</span>(), args.<span class="member memfn" sym-ref="2083.end">end</span>(), [&amp;names](<em>const</em> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; a) {</td></tr><tr><th id="L61">61</th><td>    <b>return</b> <a href="../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2561.find">find</span>(names.<span class="member memfn" sym-ref="1893.begin">begin</span>(), names.<span class="member memfn" sym-ref="1894.end">end</span>(), a) <span class="member memfn" sym-ref="1885.operator!=">!=</span> names.<span class="member memfn" sym-ref="1894.end">end</span>();</td></tr><tr><th id="L62">62</th><td>    });</td></tr><tr><th id="L63">63</th><td/></tr><tr><th id="L64">64</th><td>  <b>if</b> (it <span class="member memfn" sym-ref="2627.operator==">==</span> args.<span class="member memfn" sym-ref="2083.end">end</span>())</td></tr><tr><th id="L65">65</th><td>    <b>return</b> <b>false</b>;</td></tr><tr><th id="L66">66</th><td/></tr><tr><th id="L67">67</th><td>  args.<span class="member memfn" sym-ref="1902.erase">erase</span>(it);</td></tr><tr><th id="L68">68</th><td>  <b>return</b> <b>true</b>;</td></tr><tr><th id="L69">69</th><td>}</td></tr></tbody></table></div></body></html>