<!DOCTYPE html>
<html><head><title>C:/projects/csnap/indexer/vcxproj/src/solution.cpp</title><link id="codestylesheet" rel="stylesheet" type="text/css" href="../../../../syntax.qtcreator.css"/><link rel="stylesheet" type="text/css" href="../../../../tooltip.css"/><script type="text/javascript">var csnapRootPath="../../../../";</script><script type="text/javascript" src="../../../../codenav.js"> </script></head><body><div id="content"><h2>Code</h2><table class="code" file-id="121"><tbody><tr><th id="L1">1</th><td><i>// Copyright (C) 2023 Vincent Chambrin</i></td></tr><tr><th id="L2">2</th><td><i>// This file is part of the 'vcxproj' project.</i></td></tr><tr><th id="L3">3</th><td><i>// For conditions of distribution and use, see copyright notice in LICENSE.</i></td></tr><tr><th id="L4">4</th><td/></tr><tr><th id="L5">5</th><td><u>#include</u> <a class="include" href="../include/vcxproj/solution.h.html"><span class="include">"vcxproj/solution.h"</span></a></td></tr><tr><th id="L6">6</th><td/></tr><tr><th id="L7">7</th><td><u>#include</u> <a class="include" href="../include/vcxproj/utils.h.html"><span class="include">"vcxproj/utils.h"</span></a></td></tr><tr><th id="L8">8</th><td/></tr><tr><th id="L9">9</th><td><u>#include</u> <span class="include">&lt;filesystem&gt;</span></td></tr><tr><th id="L10">10</th><td><u>#include</u> <span class="include">&lt;fstream&gt;</span></td></tr><tr><th id="L11">11</th><td/></tr><tr><th id="L12">12</th><td><u>#include</u> <span class="include">&lt;cassert&gt;</span></td></tr><tr><th id="L13">13</th><td><u>#include</u> <span class="include">&lt;cstring&gt;</span></td></tr><tr><th id="L14">14</th><td><u>#include</u> <span class="include">&lt;stdexcept&gt;</span></td></tr><tr><th id="L15">15</th><td><u>#include</u> <span class="include">&lt;sstream&gt;</span></td></tr><tr><th id="L16">16</th><td/></tr><tr><th id="L17">17</th><td><b>namespace</b></td></tr><tr><th id="L18">18</th><td>{</td></tr><tr><th id="L19">19</th><td/></tr><tr><th id="L20">20</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5665.starts_with">starts_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, <em>char</em> c) <b>noexcept</b></td></tr><tr><th id="L21">21</th><td>{</td></tr><tr><th id="L22">22</th><td>  <b>return</b> !str.<span class="member memfn" sym-ref="1751.empty">empty</span>() &amp;&amp; str.<span class="member memfn" sym-ref="2708.front">front</span>() == c;</td></tr><tr><th id="L23">23</th><td>}</td></tr><tr><th id="L24">24</th><td/></tr><tr><th id="L25">25</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5666.starts_with">starts_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, std::string_view text) <b>noexcept</b></td></tr><tr><th id="L26">26</th><td>{</td></tr><tr><th id="L27">27</th><td>  <b>return</b> str.size() &gt;= text.size()</td></tr><tr><th id="L28">28</th><td>    &amp;&amp; std::strncmp(str.data(), text.data(), text.size()) == <var>0</var>;</td></tr><tr><th id="L29">29</th><td>}</td></tr><tr><th id="L30">30</th><td/></tr><tr><th id="L31">31</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5667.starts_with">starts_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, <em>const</em> <em>char</em>* text) <b>noexcept</b></td></tr><tr><th id="L32">32</th><td>{</td></tr><tr><th id="L33">33</th><td>  <b>return</b> starts_with(str, std::string_view(text));</td></tr><tr><th id="L34">34</th><td>}</td></tr><tr><th id="L35">35</th><td/></tr><tr><th id="L36">36</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5668.starts_with">starts_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, <em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; text) <b>noexcept</b></td></tr><tr><th id="L37">37</th><td>{</td></tr><tr><th id="L38">38</th><td>  <b>return</b> str.<span class="member memfn" sym-ref="62.size">size</span>() &gt;= text.<span class="member memfn" sym-ref="62.size">size</span>()</td></tr><tr><th id="L39">39</th><td>    &amp;&amp; <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="5021.strncmp">strncmp</span>(str.<span class="member memfn" sym-ref="4472.data">data</span>(), text.<span class="member memfn" sym-ref="4472.data">data</span>(), text.<span class="member memfn" sym-ref="62.size">size</span>()) == <var>0</var>;</td></tr><tr><th id="L40">40</th><td>}</td></tr><tr><th id="L41">41</th><td/></tr><tr><th id="L42">42</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5669.ends_with">ends_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, <em>char</em> c) <b>noexcept</b></td></tr><tr><th id="L43">43</th><td>{</td></tr><tr><th id="L44">44</th><td>  <b>return</b> !str.<span class="member memfn" sym-ref="1751.empty">empty</span>() &amp;&amp; str.<span class="member memfn" sym-ref="5670.back">back</span>() == c;</td></tr><tr><th id="L45">45</th><td>}</td></tr><tr><th id="L46">46</th><td/></tr><tr><th id="L47">47</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5671.ends_with">ends_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, std::string_view text) <b>noexcept</b></td></tr><tr><th id="L48">48</th><td>{</td></tr><tr><th id="L49">49</th><td>  <b>return</b> str.size() &gt;= text.size()</td></tr><tr><th id="L50">50</th><td>    &amp;&amp; std::strncmp(str.data() + (str.size() - text.size()), text.data(), text.size()) == <var>0</var>;</td></tr><tr><th id="L51">51</th><td>}</td></tr><tr><th id="L52">52</th><td/></tr><tr><th id="L53">53</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5672.ends_with">ends_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, <em>const</em> <em>char</em>* text) <b>noexcept</b></td></tr><tr><th id="L54">54</th><td>{</td></tr><tr><th id="L55">55</th><td>  <b>return</b> ends_with(str, std::string_view(text));</td></tr><tr><th id="L56">56</th><td>}</td></tr><tr><th id="L57">57</th><td/></tr><tr><th id="L58">58</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5673.ends_with">ends_with</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str, <em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; text) <b>noexcept</b></td></tr><tr><th id="L59">59</th><td>{</td></tr><tr><th id="L60">60</th><td>  <b>return</b> str.<span class="member memfn" sym-ref="62.size">size</span>() &gt;= text.<span class="member memfn" sym-ref="62.size">size</span>()</td></tr><tr><th id="L61">61</th><td>    &amp;&amp; <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="5021.strncmp">strncmp</span>(str.<span class="member memfn" sym-ref="4472.data">data</span>() + (str.<span class="member memfn" sym-ref="62.size">size</span>() - text.<span class="member memfn" sym-ref="62.size">size</span>()), text.<span class="member memfn" sym-ref="4472.data">data</span>(), text.<span class="member memfn" sym-ref="62.size">size</span>()) == <var>0</var>;</td></tr><tr><th id="L62">62</th><td>}</td></tr><tr><th id="L63">63</th><td/></tr><tr><th id="L64">64</th><td><b>inline</b> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="fn" sym-ref="5674.trimmed">trimmed</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> str)</td></tr><tr><th id="L65">65</th><td>{</td></tr><tr><th id="L66">66</th><td>  size_t r = <var>0</var>;</td></tr><tr><th id="L67">67</th><td>  size_t w = <var>0</var>;</td></tr><tr><th id="L68">68</th><td/></tr><tr><th id="L69">69</th><td>  <i>// Remove whitespaces from the end</i></td></tr><tr><th id="L70">70</th><td>  <b>while</b> (str.<span class="member memfn" sym-ref="4473.length">length</span>() &gt; <var>0</var> &amp;&amp; <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2297.isspace">isspace</span>(str.<span class="member memfn" sym-ref="5115.back">back</span>()))</td></tr><tr><th id="L71">71</th><td>    str.<span class="member memfn" sym-ref="5114.pop_back">pop_back</span>();</td></tr><tr><th id="L72">72</th><td/></tr><tr><th id="L73">73</th><td>  <i>// Skip whitespaces from the beginning</i></td></tr><tr><th id="L74">74</th><td>  <b>while</b> (r &lt; str.<span class="member memfn" sym-ref="4473.length">length</span>() &amp;&amp; <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2297.isspace">isspace</span>(str<span class="member memfn" sym-ref="1890.operator[]">[</span>r]))</td></tr><tr><th id="L75">75</th><td>    ++r;</td></tr><tr><th id="L76">76</th><td/></tr><tr><th id="L77">77</th><td>  <b>while</b> (r &lt; str.<span class="member memfn" sym-ref="4473.length">length</span>())</td></tr><tr><th id="L78">78</th><td>    str<span class="member memfn" sym-ref="1890.operator[]">[</span>w++] = str<span class="member memfn" sym-ref="1890.operator[]">[</span>r++];</td></tr><tr><th id="L79">79</th><td/></tr><tr><th id="L80">80</th><td>  str.<span class="member memfn" sym-ref="5675.resize">resize</span>(w);</td></tr><tr><th id="L81">81</th><td>  <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">str</span>;</td></tr><tr><th id="L82">82</th><td>}</td></tr><tr><th id="L83">83</th><td/></tr><tr><th id="L84">84</th><td><b>inline</b> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="fn" sym-ref="5676.simplified">simplified</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> str)</td></tr><tr><th id="L85">85</th><td>{</td></tr><tr><th id="L86">86</th><td>  size_t r = <var>0</var>;</td></tr><tr><th id="L87">87</th><td>  size_t w = <var>0</var>;</td></tr><tr><th id="L88">88</th><td/></tr><tr><th id="L89">89</th><td>  <i>// Remove whitespaces from the end</i></td></tr><tr><th id="L90">90</th><td>  <b>while</b> (str.<span class="member memfn" sym-ref="4473.length">length</span>() &gt; <var>0</var> &amp;&amp; <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2297.isspace">isspace</span>(str.<span class="member memfn" sym-ref="5115.back">back</span>()))</td></tr><tr><th id="L91">91</th><td>    str.<span class="member memfn" sym-ref="5114.pop_back">pop_back</span>();</td></tr><tr><th id="L92">92</th><td/></tr><tr><th id="L93">93</th><td>  <i>// Skip whitespaces from the beginning</i></td></tr><tr><th id="L94">94</th><td>  <b>while</b> (r &lt; str.<span class="member memfn" sym-ref="4473.length">length</span>() &amp;&amp; <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2297.isspace">isspace</span>(str<span class="member memfn" sym-ref="1890.operator[]">[</span>r]))</td></tr><tr><th id="L95">95</th><td>    ++r;</td></tr><tr><th id="L96">96</th><td/></tr><tr><th id="L97">97</th><td>  <b>do</b></td></tr><tr><th id="L98">98</th><td>  {</td></tr><tr><th id="L99">99</th><td>    <b>while</b> (r &lt; str.<span class="member memfn" sym-ref="4473.length">length</span>() &amp;&amp; !<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2297.isspace">isspace</span>(str<span class="member memfn" sym-ref="1890.operator[]">[</span>r]))</td></tr><tr><th id="L100">100</th><td>      str<span class="member memfn" sym-ref="1890.operator[]">[</span>w++] = str<span class="member memfn" sym-ref="1890.operator[]">[</span>r++];</td></tr><tr><th id="L101">101</th><td/></tr><tr><th id="L102">102</th><td>    <b>if</b> (r &lt; str.<span class="member memfn" sym-ref="4473.length">length</span>())</td></tr><tr><th id="L103">103</th><td>    {</td></tr><tr><th id="L104">104</th><td>      str<span class="member memfn" sym-ref="1890.operator[]">[</span>w++] = <var>' '</var>;</td></tr><tr><th id="L105">105</th><td/></tr><tr><th id="L106">106</th><td>      <i>// Skip whitespaces in the middle</i></td></tr><tr><th id="L107">107</th><td>      <b>while</b> (r &lt; str.<span class="member memfn" sym-ref="4473.length">length</span>() &amp;&amp; <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2297.isspace">isspace</span>(str<span class="member memfn" sym-ref="1890.operator[]">[</span>r]))</td></tr><tr><th id="L108">108</th><td>        ++r;</td></tr><tr><th id="L109">109</th><td>    }</td></tr><tr><th id="L110">110</th><td>  } <b>while</b> (r &lt; str.<span class="member memfn" sym-ref="4473.length">length</span>());</td></tr><tr><th id="L111">111</th><td/></tr><tr><th id="L112">112</th><td>  str.<span class="member memfn" sym-ref="5675.resize">resize</span>(w);</td></tr><tr><th id="L113">113</th><td>  <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">str</span>;</td></tr><tr><th id="L114">114</th><td>}</td></tr><tr><th id="L115">115</th><td/></tr><tr><th id="L116">116</th><td><b>inline</b> <em>bool</em> <dfn class="fn" sym-ref="5677.contains">contains</dfn>(<em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; text, <em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; str)</td></tr><tr><th id="L117">117</th><td>{</td></tr><tr><th id="L118">118</th><td>  <b>return</b> text.<span class="member memfn" sym-ref="2535.find">find</span>(str) != <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>::<span class="member staticvar" sym-ref="1761.npos">npos</span>;</td></tr><tr><th id="L119">119</th><td>}</td></tr><tr><th id="L120">120</th><td/></tr><tr><th id="L121">121</th><td><a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="fn" sym-ref="5678.read_line">read_line</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; stream)</td></tr><tr><th id="L122">122</th><td>{</td></tr><tr><th id="L123">123</th><td>  <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="1753.basic_string<_Elem, _Traits, _Alloc>">str</span>;</td></tr><tr><th id="L124">124</th><td>  <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="2110.getline">getline</span>(stream, str);</td></tr><tr><th id="L125">125</th><td>  <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">str</span>;</td></tr><tr><th id="L126">126</th><td>}</td></tr><tr><th id="L127">127</th><td/></tr><tr><th id="L128">128</th><td><a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="fn" sym-ref="5680.read_line_simplified">read_line_simplified</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; stream)</td></tr><tr><th id="L129">129</th><td>{</td></tr><tr><th id="L130">130</th><td>  <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">simplified</span>(read_line(stream));</td></tr><tr><th id="L131">131</th><td>}</td></tr><tr><th id="L132">132</th><td/></tr><tr><th id="L133">133</th><td>} <i>// namespace</i></td></tr><tr><th id="L134">134</th><td/></tr><tr><th id="L135">135</th><td><b>class</b> <dfn class="type cxxclass" sym-ref="5681.SolutionParser">SolutionParser</dfn></td></tr><tr><th id="L136">136</th><td>{</td></tr><tr><th id="L137">137</th><td><b>public</b>:</td></tr><tr><th id="L138">138</th><td>  <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; <dfn class="member field" sym-ref="5682.stream">stream</dfn>;</td></tr><tr><th id="L139">139</th><td>  <span class="namespace" sym-ref="5509.vcxproj">vcxproj</span>::<a href="../include/vcxproj/solution.h.html#L15" class="type struct" sym-ref="5542.Solution">Solution</a>&amp; <dfn class="member field" sym-ref="5683.solution">solution</dfn>;</td></tr><tr><th id="L140">140</th><td/></tr><tr><th id="L141">141</th><td><b>public</b>:</td></tr><tr><th id="L142">142</th><td>  <dfn class="member constructor" sym-ref="5684.SolutionParser">SolutionParser</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; stream_, <span class="namespace" sym-ref="5509.vcxproj">vcxproj</span>::<a href="../include/vcxproj/solution.h.html#L15" class="type struct" sym-ref="5542.Solution">Solution</a>&amp; sol)</td></tr><tr><th id="L143">143</th><td>    : <a href="solution.cpp.html#L138" class="member field" sym-ref="5682.stream">stream</a>(stream_),</td></tr><tr><th id="L144">144</th><td>      <a href="solution.cpp.html#L139" class="member field" sym-ref="5683.solution">solution</a>(sol)</td></tr><tr><th id="L145">145</th><td>  {</td></tr><tr><th id="L146">146</th><td/></tr><tr><th id="L147">147</th><td>  }</td></tr><tr><th id="L148">148</th><td/></tr><tr><th id="L149">149</th><td>  <b>static</b> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="member staticfn" sym-ref="5685.unquoted">unquoted</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> str)</td></tr><tr><th id="L150">150</th><td>  {</td></tr><tr><th id="L151">151</th><td>    <b>if</b> (<a href="solution.cpp.html#L42" class="fn" sym-ref="5669.ends_with">ends_with</a>(str, <var>'"'</var>))</td></tr><tr><th id="L152">152</th><td>    {</td></tr><tr><th id="L153">153</th><td>      str.<span class="member memfn" sym-ref="5114.pop_back">pop_back</span>();</td></tr><tr><th id="L154">154</th><td>      str.<span class="member memfn" sym-ref="2472.erase">erase</span>(<var>0</var>, <var>1</var>);</td></tr><tr><th id="L155">155</th><td>    }</td></tr><tr><th id="L156">156</th><td/></tr><tr><th id="L157">157</th><td>    <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">str</span>;</td></tr><tr><th id="L158">158</th><td>  }</td></tr><tr><th id="L159">159</th><td/></tr><tr><th id="L160">160</th><td>  <b>static</b> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="member staticfn" sym-ref="5686.unbraced">unbraced</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> str)</td></tr><tr><th id="L161">161</th><td>  {</td></tr><tr><th id="L162">162</th><td>    <b>if</b> (<a href="solution.cpp.html#L42" class="fn" sym-ref="5669.ends_with">ends_with</a>(str, <var>'}'</var>))</td></tr><tr><th id="L163">163</th><td>    {</td></tr><tr><th id="L164">164</th><td>      str.<span class="member memfn" sym-ref="5114.pop_back">pop_back</span>();</td></tr><tr><th id="L165">165</th><td>      str.<span class="member memfn" sym-ref="2472.erase">erase</span>(<var>0</var>, <var>1</var>);</td></tr><tr><th id="L166">166</th><td>    }</td></tr><tr><th id="L167">167</th><td/></tr><tr><th id="L168">168</th><td>    <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">str</span>;</td></tr><tr><th id="L169">169</th><td>  }</td></tr><tr><th id="L170">170</th><td/></tr><tr><th id="L171">171</th><td>  <em>void</em> <dfn class="member memfn" sym-ref="5687.readVersion">readVersion</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> line)</td></tr><tr><th id="L172">172</th><td>  {</td></tr><tr><th id="L173">173</th><td>    <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> str = <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">line</span>.<span class="member memfn" sym-ref="1797.substr">substr</span>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::string(<var>"Microsoft Visual Studio Solution File, Format Version "</var>).length());</td></tr><tr><th id="L174">174</th><td>    <a href="solution.cpp.html#L139" class="member field" sym-ref="5683.solution">solution</a>.<a href="../include/vcxproj/solution.h.html#L19" class="member field" sym-ref="5545.version">version</a> <span class="member memfn" sym-ref="1961.operator=">=</span> str;</td></tr><tr><th id="L175">175</th><td>  }</td></tr><tr><th id="L176">176</th><td/></tr><tr><th id="L177">177</th><td>  <em>void</em> <dfn class="member memfn" sym-ref="5688.readProject">readProject</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> line, <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; stream)</td></tr><tr><th id="L178">178</th><td>  {</td></tr><tr><th id="L179">179</th><td>    size_t index = line.<span class="member memfn" sym-ref="2695.find">find</span>(<var>"="</var>);</td></tr><tr><th id="L180">180</th><td>    line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L84" class="fn" sym-ref="5676.simplified">simplified</a>(<span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">line</span>.<span class="member memfn" sym-ref="1797.substr">substr</span>(index + <var>1</var>));</td></tr><tr><th id="L181">181</th><td>    <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="45.vector">vector</span>&lt;<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt; items = <span class="member constructor" sym-ref="2096.vector<_Ty, _Alloc>">vcxproj</span>::split(line, <var>','</var>);</td></tr><tr><th id="L182">182</th><td/></tr><tr><th id="L183">183</th><td>    <span class="namespace" sym-ref="5509.vcxproj">vcxproj</span>::<a href="../include/vcxproj/project.h.html#L49" class="type struct" sym-ref="5530.Project">Project</a> project;</td></tr><tr><th id="L184">184</th><td/></tr><tr><th id="L185">185</th><td>    project.<a href="../include/vcxproj/project.h.html#L52" class="member field" sym-ref="5532.name">name</a> <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L149" class="member staticfn" sym-ref="5685.unquoted">unquoted</a>(<span class="member constructor" sym-ref="622.basic_string<_Elem, _Traits, _Alloc>">items</span>.<span class="member memfn" sym-ref="4759.at">at</span>(<var>0</var>));</td></tr><tr><th id="L186">186</th><td>    project.<a href="../include/vcxproj/project.h.html#L53" class="member field" sym-ref="5533.filepath">filepath</a> <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L149" class="member staticfn" sym-ref="5685.unquoted">unquoted</a>(<span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">trimmed</span>(items.at(<var>1</var>)));</td></tr><tr><th id="L187">187</th><td>    project.<a href="../include/vcxproj/project.h.html#L51" class="member field" sym-ref="5531.id">id</a> <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L160" class="member staticfn" sym-ref="5686.unbraced">unbraced</a>(<span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">unquoted</span>(trimmed(items.at(<var>2</var>))));</td></tr><tr><th id="L188">188</th><td/></tr><tr><th id="L189">189</th><td>    <a href="solution.cpp.html#L139" class="member field" sym-ref="5683.solution">solution</a>.<a href="../include/vcxproj/solution.h.html#L21" class="member field" sym-ref="5547.projects">projects</a>.<span class="member memfn" sym-ref="1827.push_back">push_back</span>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1399.move">move</span>(project));</td></tr><tr><th id="L190">190</th><td/></tr><tr><th id="L191">191</th><td>    <b>while</b> (!stream.<span class="member memfn" sym-ref="5689.eof">eof</span>())</td></tr><tr><th id="L192">192</th><td>    {</td></tr><tr><th id="L193">193</th><td>      line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L84" class="fn" sym-ref="5676.simplified">simplified</a>(<span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">read_line</span>(stream));</td></tr><tr><th id="L194">194</th><td/></tr><tr><th id="L195">195</th><td>      <b>if</b> (line <span class="fn" sym-ref="1967.operator==">==</span> <var>"EndProject"</var>)</td></tr><tr><th id="L196">196</th><td>        <b>return</b>;</td></tr><tr><th id="L197">197</th><td/></tr><tr><th id="L198">198</th><td>      <b>if</b> (<a href="solution.cpp.html#L31" class="fn" sym-ref="5667.starts_with">starts_with</a>(line, <var>"ProjectSection"</var>))</td></tr><tr><th id="L199">199</th><td>        <a href="solution.cpp.html#L203" class="member memfn" sym-ref="5690.readProjectSection">readProjectSection</a>(<span class="member constructor" sym-ref="622.basic_string<_Elem, _Traits, _Alloc>">line</span>, stream, <a href="solution.cpp.html#L139" class="member field" sym-ref="5683.solution">solution</a>.<a href="../include/vcxproj/solution.h.html#L21" class="member field" sym-ref="5547.projects">projects</a>.<span class="member memfn" sym-ref="2184.back">back</span>());</td></tr><tr><th id="L200">200</th><td>    }</td></tr><tr><th id="L201">201</th><td>  }</td></tr><tr><th id="L202">202</th><td/></tr><tr><th id="L203">203</th><td>  <em>void</em> <dfn class="member memfn" sym-ref="5690.readProjectSection">readProjectSection</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> line, <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; stream, <span class="namespace" sym-ref="5509.vcxproj">vcxproj</span>::<a href="../include/vcxproj/project.h.html#L49" class="type struct" sym-ref="5530.Project">Project</a>&amp; project)</td></tr><tr><th id="L204">204</th><td>  {</td></tr><tr><th id="L205">205</th><td>    <b>if</b> (<a href="solution.cpp.html#L31" class="fn" sym-ref="5667.starts_with">starts_with</a>(line, <var>"ProjectSection(ProjectDependencies)"</var>))</td></tr><tr><th id="L206">206</th><td>    {</td></tr><tr><th id="L207">207</th><td>      <b>while</b> (!stream.<span class="member memfn" sym-ref="5689.eof">eof</span>())</td></tr><tr><th id="L208">208</th><td>      {</td></tr><tr><th id="L209">209</th><td>        line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L128" class="fn" sym-ref="5680.read_line_simplified">read_line_simplified</a>(stream);</td></tr><tr><th id="L210">210</th><td/></tr><tr><th id="L211">211</th><td>        <b>if</b> (line <span class="fn" sym-ref="1967.operator==">==</span> <var>"EndProjectSection"</var>)</td></tr><tr><th id="L212">212</th><td>          <b>return</b>;</td></tr><tr><th id="L213">213</th><td/></tr><tr><th id="L214">214</th><td>        <i>// e.g. {17A02C77-346E-3F08-A2A3-5AF377AC0452} = {17A02C77-346E-3F08-A2A3-5AF377AC0452}</i></td></tr><tr><th id="L215">215</th><td>        size_t equal_sign = line.<span class="member memfn" sym-ref="2695.find">find</span>(<var>"="</var>);</td></tr><tr><th id="L216">216</th><td>        line.<span class="member memfn" sym-ref="2474.erase">erase</span>(equal_sign);</td></tr><tr><th id="L217">217</th><td>        line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L64" class="fn" sym-ref="5674.trimmed">trimmed</a>(<span class="member constructor" sym-ref="622.basic_string<_Elem, _Traits, _Alloc>">line</span>);</td></tr><tr><th id="L218">218</th><td>        <span class="namespace" sym-ref="5509.vcxproj">vcxproj</span>::<a href="../include/vcxproj/project.h.html#L16" class="type typedef" sym-ref="5510.uuid_t">uuid_t</a> dependency_id = <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">unbraced</span>(line);</td></tr><tr><th id="L219">219</th><td/></tr><tr><th id="L220">220</th><td>        project.<a href="../include/vcxproj/project.h.html#L54" class="member field" sym-ref="5534.dependencies">dependencies</a>.<span class="member memfn" sym-ref="1346.push_back">push_back</span>(dependency_id);</td></tr><tr><th id="L221">221</th><td>      }</td></tr><tr><th id="L222">222</th><td>    }</td></tr><tr><th id="L223">223</th><td>    <b>else</b></td></tr><tr><th id="L224">224</th><td>    {</td></tr><tr><th id="L225">225</th><td>      <b>while</b> (!stream.<span class="member memfn" sym-ref="5689.eof">eof</span>())</td></tr><tr><th id="L226">226</th><td>      {</td></tr><tr><th id="L227">227</th><td>        line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L128" class="fn" sym-ref="5680.read_line_simplified">read_line_simplified</a>(stream);</td></tr><tr><th id="L228">228</th><td/></tr><tr><th id="L229">229</th><td>        <b>if</b> (line <span class="fn" sym-ref="1967.operator==">==</span> <var>"EndProjectSection"</var>)</td></tr><tr><th id="L230">230</th><td>          <b>return</b>;</td></tr><tr><th id="L231">231</th><td>      }</td></tr><tr><th id="L232">232</th><td>    }</td></tr><tr><th id="L233">233</th><td>  }</td></tr><tr><th id="L234">234</th><td/></tr><tr><th id="L235">235</th><td>  <em>void</em> <dfn class="member memfn" sym-ref="5691.readGlobal">readGlobal</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> line, <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; stream)</td></tr><tr><th id="L236">236</th><td>  {</td></tr><tr><th id="L237">237</th><td>    <b>while</b> (!stream.<span class="member memfn" sym-ref="5689.eof">eof</span>())</td></tr><tr><th id="L238">238</th><td>    {</td></tr><tr><th id="L239">239</th><td>      line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L128" class="fn" sym-ref="5680.read_line_simplified">read_line_simplified</a>(stream);</td></tr><tr><th id="L240">240</th><td/></tr><tr><th id="L241">241</th><td>      <b>if</b> (line <span class="fn" sym-ref="1967.operator==">==</span> <var>"EndGlobal"</var>)</td></tr><tr><th id="L242">242</th><td>        <b>return</b>;</td></tr><tr><th id="L243">243</th><td/></tr><tr><th id="L244">244</th><td>      <b>if</b> (<a href="solution.cpp.html#L31" class="fn" sym-ref="5667.starts_with">starts_with</a>(line, <var>"GlobalSection("</var>))</td></tr><tr><th id="L245">245</th><td>        <a href="solution.cpp.html#L249" class="member memfn" sym-ref="5692.readGlobalSection">readGlobalSection</a>(<span class="member constructor" sym-ref="622.basic_string<_Elem, _Traits, _Alloc>">line</span>, stream);</td></tr><tr><th id="L246">246</th><td>    }</td></tr><tr><th id="L247">247</th><td>  }</td></tr><tr><th id="L248">248</th><td/></tr><tr><th id="L249">249</th><td>  <em>void</em> <dfn class="member memfn" sym-ref="5692.readGlobalSection">readGlobalSection</dfn>(<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> line, <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="5679.istream">istream</span>&amp; stream)</td></tr><tr><th id="L250">250</th><td>  {</td></tr><tr><th id="L251">251</th><td>    <b>static</b> <em>const</em> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">EndGlobalSection</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"EndGlobalSection"</var></span>;</td></tr><tr><th id="L252">252</th><td/></tr><tr><th id="L253">253</th><td>    <b>if</b> (<a href="solution.cpp.html#L31" class="fn" sym-ref="5667.starts_with">starts_with</a>(line, <var>"GlobalSection(SolutionConfigurationPlatforms)"</var>))</td></tr><tr><th id="L254">254</th><td>    {</td></tr><tr><th id="L255">255</th><td>      <b>while</b> (!stream.<span class="member memfn" sym-ref="5689.eof">eof</span>())</td></tr><tr><th id="L256">256</th><td>      {</td></tr><tr><th id="L257">257</th><td>        line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L128" class="fn" sym-ref="5680.read_line_simplified">read_line_simplified</a>(stream);</td></tr><tr><th id="L258">258</th><td/></tr><tr><th id="L259">259</th><td>        <b>if</b> (line <span class="fn" sym-ref="2070.operator==">==</span> EndGlobalSection)</td></tr><tr><th id="L260">260</th><td>          <b>return</b>;</td></tr><tr><th id="L261">261</th><td/></tr><tr><th id="L262">262</th><td>        <i>// e.g. Debug|x64 = Debug|x64</i></td></tr><tr><th id="L263">263</th><td>        size_t equal_sign = line.<span class="member memfn" sym-ref="2695.find">find</span>(<var>"="</var>);</td></tr><tr><th id="L264">264</th><td>        line.<span class="member memfn" sym-ref="2472.erase">erase</span>(equal_sign, line.<span class="member memfn" sym-ref="62.size">size</span>());</td></tr><tr><th id="L265">265</th><td>        <b>while</b> (<a href="solution.cpp.html#L42" class="fn" sym-ref="5669.ends_with">ends_with</a>(line, <var>' '</var>))</td></tr><tr><th id="L266">266</th><td>          line.<span class="member memfn" sym-ref="5114.pop_back">pop_back</span>();</td></tr><tr><th id="L267">267</th><td/></tr><tr><th id="L268">268</th><td>        <a href="solution.cpp.html#L139" class="member field" sym-ref="5683.solution">solution</a>.<a href="../include/vcxproj/solution.h.html#L20" class="member field" sym-ref="5546.configurations">configurations</a>.<span class="member memfn" sym-ref="1346.push_back">push_back</span>(line);</td></tr><tr><th id="L269">269</th><td>      }</td></tr><tr><th id="L270">270</th><td>    }</td></tr><tr><th id="L271">271</th><td>    <b>else</b></td></tr><tr><th id="L272">272</th><td>    {</td></tr><tr><th id="L273">273</th><td>      <b>while</b> (!stream.<span class="member memfn" sym-ref="5689.eof">eof</span>())</td></tr><tr><th id="L274">274</th><td>      {</td></tr><tr><th id="L275">275</th><td>        line <span class="member memfn" sym-ref="1752.operator=">=</span> <a href="solution.cpp.html#L128" class="fn" sym-ref="5680.read_line_simplified">read_line_simplified</a>(stream);</td></tr><tr><th id="L276">276</th><td/></tr><tr><th id="L277">277</th><td>        <b>if</b> (line <span class="fn" sym-ref="2070.operator==">==</span> EndGlobalSection)</td></tr><tr><th id="L278">278</th><td>          <b>return</b>;</td></tr><tr><th id="L279">279</th><td>      }</td></tr><tr><th id="L280">280</th><td>    }</td></tr><tr><th id="L281">281</th><td>  }</td></tr><tr><th id="L282">282</th><td/></tr><tr><th id="L283">283</th><td>  <em>void</em> <dfn class="member memfn" sym-ref="5693.operator()"><b>operator</b></dfn>()()</td></tr><tr><th id="L284">284</th><td>  {</td></tr><tr><th id="L285">285</th><td>    <a href="solution.cpp.html#L121" class="fn" sym-ref="5678.read_line">read_line</a>(<a href="solution.cpp.html#L138" class="member field" sym-ref="5682.stream">stream</a>);</td></tr><tr><th id="L286">286</th><td/></tr><tr><th id="L287">287</th><td>    <b>while</b> (!<a href="solution.cpp.html#L138" class="member field" sym-ref="5682.stream">stream</a>.<span class="member memfn" sym-ref="5689.eof">eof</span>())</td></tr><tr><th id="L288">288</th><td>    {</td></tr><tr><th id="L289">289</th><td>      <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> line = <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">read_line</span>(stream);</td></tr><tr><th id="L290">290</th><td/></tr><tr><th id="L291">291</th><td>      <b>if</b> (<a href="solution.cpp.html#L31" class="fn" sym-ref="5667.starts_with">starts_with</a>(line, <var>"Microsoft Visual Studio Solution File, Format Version"</var>))</td></tr><tr><th id="L292">292</th><td>        <a href="solution.cpp.html#L171" class="member memfn" sym-ref="5687.readVersion">readVersion</a>(<span class="member constructor" sym-ref="622.basic_string<_Elem, _Traits, _Alloc>">line</span>);</td></tr><tr><th id="L293">293</th><td>      <b>else</b> <b>if</b> (<a href="solution.cpp.html#L31" class="fn" sym-ref="5667.starts_with">starts_with</a>(line, <var>"Project("</var>))</td></tr><tr><th id="L294">294</th><td>        <a href="solution.cpp.html#L177" class="member memfn" sym-ref="5688.readProject">readProject</a>(<span class="member constructor" sym-ref="622.basic_string<_Elem, _Traits, _Alloc>">line</span>, <a href="solution.cpp.html#L138" class="member field" sym-ref="5682.stream">stream</a>);</td></tr><tr><th id="L295">295</th><td>      <b>else</b> <b>if</b> (<a href="solution.cpp.html#L31" class="fn" sym-ref="5667.starts_with">starts_with</a>(line, <var>"Global"</var>))</td></tr><tr><th id="L296">296</th><td>        <a href="solution.cpp.html#L235" class="member memfn" sym-ref="5691.readGlobal">readGlobal</a>(<span class="member constructor" sym-ref="622.basic_string<_Elem, _Traits, _Alloc>">line</span>, <a href="solution.cpp.html#L138" class="member field" sym-ref="5682.stream">stream</a>);</td></tr><tr><th id="L297">297</th><td>      <b>else</b></td></tr><tr><th id="L298">298</th><td>        <b>continue</b>; <i>// @TODO: decide what to do here</i></td></tr><tr><th id="L299">299</th><td>    }</td></tr><tr><th id="L300">300</th><td>  }</td></tr><tr><th id="L301">301</th><td>};</td></tr><tr><th id="L302">302</th><td/></tr><tr><th id="L303">303</th><td><b>namespace</b> <dfn class="namespace" sym-ref="5509.vcxproj">vcxproj</dfn></td></tr><tr><th id="L304">304</th><td>{</td></tr><tr><th id="L305">305</th><td/></tr><tr><th id="L306">306</th><td><span class="namespace" sym-ref="5509.vcxproj">vcxproj</span>::<a href="../include/vcxproj/solution.h.html#L15" class="type struct" sym-ref="5542.Solution">Solution</a> <dfn class="fn" sym-ref="5548.load_solution">load_solution</dfn>(<em>const</em> std::filesystem::path&amp; filepath)</td></tr><tr><th id="L307">307</th><td>{</td></tr><tr><th id="L308">308</th><td>  <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="2106.ifstream">ifstream</span> file{ filepath.u8string() };</td></tr><tr><th id="L309">309</th><td/></tr><tr><th id="L310">310</th><td>  <b>if</b> (!file.<span class="member memfn" sym-ref="5694.good">good</span>())</td></tr><tr><th id="L311">311</th><td>    <b>throw</b> <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::runtime_error(<var>"Could not open file"</var>);</td></tr><tr><th id="L312">312</th><td/></tr><tr><th id="L313">313</th><td>  <span class="namespace" sym-ref="5509.vcxproj">vcxproj</span>::<a href="../include/vcxproj/solution.h.html#L15" class="type struct" sym-ref="5542.Solution">Solution</a> solution;</td></tr><tr><th id="L314">314</th><td>  solution.filepath = filepath;</td></tr><tr><th id="L315">315</th><td>  solution.name = filepath.stem().string();</td></tr><tr><th id="L316">316</th><td/></tr><tr><th id="L317">317</th><td>  <a href="solution.cpp.html#L135" class="type cxxclass" sym-ref="5681.SolutionParser">SolutionParser</a> <a href="solution.cpp.html#L142" class="member constructor" sym-ref="5684.SolutionParser">parser</a>{ file, solution };</td></tr><tr><th id="L318">318</th><td>  parser<span class="member memfn" sym-ref="5693.operator()">(</span>);</td></tr><tr><th id="L319">319</th><td/></tr><tr><th id="L320">320</th><td>  <b>for</b> (<b>auto</b>&amp; pro : solution.<a href="../include/vcxproj/solution.h.html#L21" class="member field" sym-ref="5547.projects">projects</a>)</td></tr><tr><th id="L321">321</th><td>  {</td></tr><tr><th id="L322">322</th><td>    std::filesystem::path path{ solution.filepath };</td></tr><tr><th id="L323">323</th><td>    path = path.parent_path();</td></tr><tr><th id="L324">324</th><td>    path = path / pro.filepath;</td></tr><tr><th id="L325">325</th><td/></tr><tr><th id="L326">326</th><td>    <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="1316.map">map</span>&lt;<a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>, <a href="../../libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&gt; <span class="member constructor" sym-ref="2248.map<_Kty, _Ty, _Pr, _Alloc>">variables</span>;</td></tr><tr><th id="L327">327</th><td>    variables<span class="member memfn" sym-ref="5339.operator[]">[</span><span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"SolutionDir"</var></span>] = solution.filepath.parent_path().u8string();</td></tr><tr><th id="L328">328</th><td/></tr><tr><th id="L329">329</th><td>    load_project(&amp;pro, path, variables);</td></tr><tr><th id="L330">330</th><td>  }</td></tr><tr><th id="L331">331</th><td/></tr><tr><th id="L332">332</th><td>  <b>return</b> solution;</td></tr><tr><th id="L333">333</th><td>}</td></tr><tr><th id="L334">334</th><td/></tr><tr><th id="L335">335</th><td>} <i>// namespace vcxproj</i></td></tr></tbody></table></div></body></html>