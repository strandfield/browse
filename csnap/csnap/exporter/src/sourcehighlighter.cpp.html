<!DOCTYPE html>
<html><head><title>C:/projects/csnap/exporter/src/sourcehighlighter.cpp</title><link id="codestylesheet" rel="stylesheet" type="text/css" href="../../../syntax.qtcreator.css"/><link rel="stylesheet" type="text/css" href="../../../tooltip.css"/><script type="text/javascript">var csnapRootPath="../../../";</script><script type="text/javascript" src="../../../codenav.js"> </script></head><body><div id="content"><h2>Code</h2><table class="code" file-id="46"><tbody><tr><th id="L1">1</th><td><i>// Copyright (C) 2023 Vincent Chambrin</i></td></tr><tr><th id="L2">2</th><td><i>// This file is part of the 'csnap' project.</i></td></tr><tr><th id="L3">3</th><td><i>// For conditions of distribution and use, see copyright notice in LICENSE.</i></td></tr><tr><th id="L4">4</th><td/></tr><tr><th id="L5">5</th><td><u>#include</u> <a class="include" href="../include/csnap/exporter/sourcehighlighter.h.html"><span class="include">"sourcehighlighter.h"</span></a></td></tr><tr><th id="L6">6</th><td/></tr><tr><th id="L7">7</th><td><u>#include</u> <a class="include" href="../include/csnap/exporter/htmlpage.h.html"><span class="include">"htmlpage.h"</span></a></td></tr><tr><th id="L8">8</th><td/></tr><tr><th id="L9">9</th><td><u>#include</u> <a class="include" href="../../db/include/csnap/database/snapshot.h.html"><span class="include">&lt;csnap/database/snapshot.h&gt;</span></a></td></tr><tr><th id="L10">10</th><td/></tr><tr><th id="L11">11</th><td><u>#include</u> <a class="include" href="../../model/include/csnap/model/filelist.h.html"><span class="include">&lt;csnap/model/filelist.h&gt;</span></a></td></tr><tr><th id="L12">12</th><td/></tr><tr><th id="L13">13</th><td><u>#include</u> <span class="include">&lt;array&gt;</span></td></tr><tr><th id="L14">14</th><td><u>#include</u> <span class="include">&lt;algorithm&gt;</span></td></tr><tr><th id="L15">15</th><td><u>#include</u> <span class="include">&lt;filesystem&gt;</span></td></tr><tr><th id="L16">16</th><td><u>#include</u> <span class="include">&lt;set&gt;</span></td></tr><tr><th id="L17">17</th><td/></tr><tr><th id="L18">18</th><td><b>namespace</b> <dfn class="namespace" sym-ref="4505.csnap">csnap</dfn></td></tr><tr><th id="L19">19</th><td>{</td></tr><tr><th id="L20">20</th><td/></tr><tr><th id="L21">21</th><td><b>static</b> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="5143.array">array</span>&lt;<em>char</em>, <var>256</var>&gt; <dfn class="fn" sym-ref="5142.build_replacements">build_replacements</dfn>()</td></tr><tr><th id="L22">22</th><td>{</td></tr><tr><th id="L23">23</th><td>  <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="5143.array">array</span>&lt;<em>char</em>, <var>256</var>&gt; r;</td></tr><tr><th id="L24">24</th><td/></tr><tr><th id="L25">25</th><td>  <b>for</b> (size_t i(<var>0</var>); i &lt; r.size(); ++i)</td></tr><tr><th id="L26">26</th><td>  {</td></tr><tr><th id="L27">27</th><td>    r[i] = (<em>char</em>)i;</td></tr><tr><th id="L28">28</th><td>  }</td></tr><tr><th id="L29">29</th><td/></tr><tr><th id="L30">30</th><td>  <b>for</b> (<em>char</em> c : {<var>'&lt;'</var>, <var>'&gt;'</var>, <var>'*'</var>, <var>'"'</var>, <var>'|'</var>})</td></tr><tr><th id="L31">31</th><td>  {</td></tr><tr><th id="L32">32</th><td>    r[c] = <var>'_'</var>;</td></tr><tr><th id="L33">33</th><td>  }</td></tr><tr><th id="L34">34</th><td/></tr><tr><th id="L35">35</th><td>  <b>return</b> r;</td></tr><tr><th id="L36">36</th><td>}</td></tr><tr><th id="L37">37</th><td/></tr><tr><th id="L38">38</th><td><b>static</b> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <dfn class="fn" sym-ref="5144.get_symbol_symrefs_filename">get_symbol_symrefs_filename</dfn>(<em>const</em> <a href="../../model/include/csnap/model/symbol.h.html#L63" class="type struct" sym-ref="4580.Symbol">Symbol</a>&amp; sym)</td></tr><tr><th id="L39">39</th><td>{</td></tr><tr><th id="L40">40</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="5143.array">array</span>&lt;<em>char</em>, <var>256</var>&gt; replacements = build_replacements();</td></tr><tr><th id="L41">41</th><td/></tr><tr><th id="L42">42</th><td>  <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> r = <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<a href="sourcehighlighter.cpp.html#L62" class="member staticfn" sym-ref="5064.symbol_symref">symbol_symref</a>(sym);</td></tr><tr><th id="L43">43</th><td/></tr><tr><th id="L44">44</th><td>  <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="4748.for_each">for_each</span>(r.<span class="member memfn" sym-ref="1964.begin">begin</span>(), r.<span class="member memfn" sym-ref="1965.end">end</span>(), [](<em>char</em>&amp; c) {</td></tr><tr><th id="L45">45</th><td>    c = replacements[(<b>unsigned</b> <em>char</em>)c];</td></tr><tr><th id="L46">46</th><td>    });</td></tr><tr><th id="L47">47</th><td/></tr><tr><th id="L48">48</th><td>  <b>return</b> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">r</span>;</td></tr><tr><th id="L49">49</th><td>}</td></tr><tr><th id="L50">50</th><td/></tr><tr><th id="L51">51</th><td><a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member constructor" sym-ref="5123.SourceHighlighter">SourceHighlighter</dfn>(<a href="../include/csnap/exporter/htmlpage.h.html#L16" class="type cxxclass" sym-ref="4945.HtmlPage">HtmlPage</a>&amp; p, <em>const</em> <a href="../../model/include/csnap/model/filecontent.h.html#L20" class="type cxxclass" sym-ref="4537.FileContent">FileContent</a>&amp; fc, <a href="../include/csnap/exporter/filesema.h.html#L23" class="type struct" sym-ref="5026.FileSema">FileSema</a> fm, <em>const</em> <a href="../../model/include/csnap/model/filelist.h.html#L19" class="type cxxclass" sym-ref="4551.FileList">FileList</a>&amp; fs, <em>const</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L36" class="type cxxtypealias" sym-ref="5119.SymbolMap">SymbolMap</a>&amp; ss, <em>const</em> <a href="../include/csnap/exporter/definitiontable.h.html#L21" class="type cxxclass" sym-ref="4885.DefinitionTable">DefinitionTable</a>&amp; defs) :</td></tr><tr><th id="L52">52</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>(p),</td></tr><tr><th id="L53">53</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L50" class="member field" sym-ref="5055.content">content</a>(fc),</td></tr><tr><th id="L54">54</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L51" class="member field" sym-ref="5056.sema">sema</a>(<a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1399.move">move</span>(fm)),</td></tr><tr><th id="L55">55</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L52" class="member field" sym-ref="5057.files">files</a>(fs),</td></tr><tr><th id="L56">56</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L53" class="member field" sym-ref="5058.symbols">symbols</a>(ss),</td></tr><tr><th id="L57">57</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L54" class="member field" sym-ref="5059.definitions">definitions</a>(defs)</td></tr><tr><th id="L58">58</th><td>{</td></tr><tr><th id="L59">59</th><td/></tr><tr><th id="L60">60</th><td>}</td></tr><tr><th id="L61">61</th><td/></tr><tr><th id="L62">62</th><td><a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member staticfn" sym-ref="5064.symbol_symref">symbol_symref</dfn>(<em>const</em> <a href="../../model/include/csnap/model/symbol.h.html#L63" class="type struct" sym-ref="4580.Symbol">Symbol</a>&amp; sym)</td></tr><tr><th id="L63">63</th><td>{</td></tr><tr><th id="L64">64</th><td>  <b>return</b> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="5132.to_string">to_string</span>(sym.<a href="../../model/include/csnap/model/symbol.h.html#L65" class="member field" sym-ref="4635.id">id</a>.<a href="../../model/include/csnap/model/identifier.h.html#L28" class="member memfn" sym-ref="4525.value">value</a>()) + <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::string(<var>"."</var>) + sym.name;</td></tr><tr><th id="L65">65</th><td>}</td></tr><tr><th id="L66">66</th><td/></tr><tr><th id="L67">67</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5065.writeLineSource">writeLineSource</dfn>(<em>int</em> l)</td></tr><tr><th id="L68">68</th><td>{</td></tr><tr><th id="L69">69</th><td>  <b>if</b> (l &lt;= <var>0</var>)</td></tr><tr><th id="L70">70</th><td>    <b>return</b>;</td></tr><tr><th id="L71">71</th><td/></tr><tr><th id="L72">72</th><td>  <b>if</b> (<a href="../include/csnap/exporter/sourcehighlighter.h.html#L56" class="member field" sym-ref="5061.m_current_line">m_current_line</a> != l - <var>1</var>)</td></tr><tr><th id="L73">73</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L55" class="member field" sym-ref="5060.lexer">lexer</a>.<a href="../cpptok/src/tokenizer.cpp.html#L70" class="member memfn" sym-ref="2900.reset">reset</a>();</td></tr><tr><th id="L74">74</th><td>  <b>else</b></td></tr><tr><th id="L75">75</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L55" class="member field" sym-ref="5060.lexer">lexer</a>.<a href="../cpptok/include/cpptok/tokenizer.h.html#L70" class="member field" sym-ref="2895.output">output</a>.<span class="member memfn" sym-ref="2418.clear">clear</span>();</td></tr><tr><th id="L76">76</th><td/></tr><tr><th id="L77">77</th><td>  <em>const</em> std::vector&lt;std::string_view&gt;&amp; lines = content.lines;</td></tr><tr><th id="L78">78</th><td/></tr><tr><th id="L79">79</th><td>  size_t i = size_t(l) - <var>1</var>;</td></tr><tr><th id="L80">80</th><td/></tr><tr><th id="L81">81</th><td>  <b>if</b> (i &gt;= lines.size())</td></tr><tr><th id="L82">82</th><td>    <b>return</b>;</td></tr><tr><th id="L83">83</th><td/></tr><tr><th id="L84">84</th><td>  lexer.tokenize(lines.at(i).data(), lines.at(i).size());</td></tr><tr><th id="L85">85</th><td/></tr><tr><th id="L86">86</th><td>  <i>// $TODO: the following if/else block could be improved</i></td></tr><tr><th id="L87">87</th><td>  <b>if</b> (<a href="../include/csnap/exporter/sourcehighlighter.h.html#L56" class="member field" sym-ref="5061.m_current_line">m_current_line</a> != l - <var>1</var> || !<span class="member convfn" sym-ref="2416.operator bool">current_line_sema</span>)</td></tr><tr><th id="L88">88</th><td>  {</td></tr><tr><th id="L89">89</th><td>    <b>auto</b> incitbegin = <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1397.find_if">find_if</span>(<a href="../include/csnap/exporter/sourcehighlighter.h.html#L51" class="member field" sym-ref="5056.sema">sema</a>.<a href="../include/csnap/exporter/filesema.h.html#L33" class="member field" sym-ref="5028.includes">includes</a>.<span class="member memfn" sym-ref="1903.begin">begin</span>(), <a href="../include/csnap/exporter/sourcehighlighter.h.html#L51" class="member field" sym-ref="5056.sema">sema</a>.<a href="../include/csnap/exporter/filesema.h.html#L33" class="member field" sym-ref="5028.includes">includes</a>.<span class="member memfn" sym-ref="2083.end">end</span>(), [l](<em>const</em> <a href="../../model/include/csnap/model/include.h.html#L16" class="type struct" sym-ref="4559.Include">Include</a>&amp; incl) {</td></tr><tr><th id="L90">90</th><td>      <b>return</b> incl.<a href="../../model/include/csnap/model/include.h.html#L31" class="member field" sym-ref="4562.line">line</a> &gt;= l;</td></tr><tr><th id="L91">91</th><td>      });</td></tr><tr><th id="L92">92</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L39" class="type cxxtypealias" sym-ref="5121.IncludeIterator">IncludeIterator</a> incit{ incitbegin, incitbegin ==  sema.includes.end() ? incitbegin : std::next(incitbegin) };</td></tr><tr><th id="L93">93</th><td/></tr><tr><th id="L94">94</th><td>    <b>auto</b> refitbegin = <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1397.find_if">find_if</span>(<a href="../include/csnap/exporter/sourcehighlighter.h.html#L51" class="member field" sym-ref="5056.sema">sema</a>.<a href="../include/csnap/exporter/filesema.h.html#L38" class="member field" sym-ref="5029.references">references</a>.<span class="member memfn" sym-ref="1903.begin">begin</span>(), <a href="../include/csnap/exporter/sourcehighlighter.h.html#L51" class="member field" sym-ref="5056.sema">sema</a>.<a href="../include/csnap/exporter/filesema.h.html#L38" class="member field" sym-ref="5029.references">references</a>.<span class="member memfn" sym-ref="2083.end">end</span>(), [l](<em>const</em> <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>&amp; ref) {</td></tr><tr><th id="L95">95</th><td>      <b>return</b> ref.<a href="../../model/include/csnap/model/reference.h.html#L23" class="member field" sym-ref="4585.line">line</a> &gt;= l;</td></tr><tr><th id="L96">96</th><td>      });</td></tr><tr><th id="L97">97</th><td/></tr><tr><th id="L98">98</th><td>    <b>auto</b> refitend = std::find_if(refitbegin, sema.references.end(), [l](<em>const</em> SymbolReference&amp; ref) {</td></tr><tr><th id="L99">99</th><td>      <b>return</b> ref.line &gt; l;</td></tr><tr><th id="L100">100</th><td>      });</td></tr><tr><th id="L101">101</th><td/></tr><tr><th id="L102">102</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L40" class="type cxxtypealias" sym-ref="5122.ReferenceIterator">ReferenceIterator</a> refit{refitbegin, refitend };</td></tr><tr><th id="L103">103</th><td/></tr><tr><th id="L104">104</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L42" class="type struct" sym-ref="5051.SemaIterators">SemaIterators</a> semaits{ <a href="../include/csnap/exporter/iterator.h.html#L29" class="member constructor" sym-ref="5039.Iterator<It>">incit</a>, <a href="../include/csnap/exporter/iterator.h.html#L29" class="member constructor" sym-ref="5039.Iterator<It>">refit</a> };</td></tr><tr><th id="L105">105</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L57" class="member field" sym-ref="5062.current_line_sema">current_line_sema</a> = <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="4848.make_unique">make_unique</span>&lt;SemaIterators&gt;(semaits);</td></tr><tr><th id="L106">106</th><td>  }</td></tr><tr><th id="L107">107</th><td>  <b>else</b></td></tr><tr><th id="L108">108</th><td>  {</td></tr><tr><th id="L109">109</th><td>    <b>auto</b> incitbegin = <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1397.find_if">find_if</span>(<a href="../include/csnap/exporter/sourcehighlighter.h.html#L57" class="member field" sym-ref="5062.current_line_sema">current_line_sema</a><span class="member memfn" sym-ref="2124.operator->">-</span>&gt;<a href="../include/csnap/exporter/sourcehighlighter.h.html#L44" class="member field" sym-ref="5052.include">include</a>.<a href="../include/csnap/exporter/iterator.h.html#L50" class="member memfn" sym-ref="5042.iterator">iterator</a>(), <a href="../include/csnap/exporter/sourcehighlighter.h.html#L51" class="member field" sym-ref="5056.sema">sema</a>.<a href="../include/csnap/exporter/filesema.h.html#L33" class="member field" sym-ref="5028.includes">includes</a>.<span class="member memfn" sym-ref="2628.cend">cend</span>(), [l](<em>const</em> <a href="../../model/include/csnap/model/include.h.html#L16" class="type struct" sym-ref="4559.Include">Include</a>&amp; incl) {</td></tr><tr><th id="L110">110</th><td>      <b>return</b> incl.<a href="../../model/include/csnap/model/include.h.html#L31" class="member field" sym-ref="4562.line">line</a> &gt;= l;</td></tr><tr><th id="L111">111</th><td>      });</td></tr><tr><th id="L112">112</th><td/></tr><tr><th id="L113">113</th><td>    <b>auto</b> incitend = std::find_if(incitbegin, sema.includes.cend(), [l](<em>const</em> Include&amp; incl) {</td></tr><tr><th id="L114">114</th><td>      <b>return</b> incl.line &gt; l;</td></tr><tr><th id="L115">115</th><td>      });</td></tr><tr><th id="L116">116</th><td/></tr><tr><th id="L117">117</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L39" class="type cxxtypealias" sym-ref="5121.IncludeIterator">IncludeIterator</a> incit{ incitbegin, incitend };</td></tr><tr><th id="L118">118</th><td/></tr><tr><th id="L119">119</th><td>    <b>auto</b> refitbegin = <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="fn" sym-ref="1397.find_if">find_if</span>(<a href="../include/csnap/exporter/sourcehighlighter.h.html#L57" class="member field" sym-ref="5062.current_line_sema">current_line_sema</a><span class="member memfn" sym-ref="2124.operator->">-</span>&gt;<a href="../include/csnap/exporter/sourcehighlighter.h.html#L45" class="member field" sym-ref="5053.reference">reference</a>.<a href="../include/csnap/exporter/iterator.h.html#L50" class="member memfn" sym-ref="5042.iterator">iterator</a>(), <a href="../include/csnap/exporter/sourcehighlighter.h.html#L51" class="member field" sym-ref="5056.sema">sema</a>.<a href="../include/csnap/exporter/filesema.h.html#L38" class="member field" sym-ref="5029.references">references</a>.<span class="member memfn" sym-ref="2628.cend">cend</span>(), [l](<em>const</em> <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>&amp; ref) {</td></tr><tr><th id="L120">120</th><td>      <b>return</b> ref.<a href="../../model/include/csnap/model/reference.h.html#L23" class="member field" sym-ref="4585.line">line</a> &gt;= l;</td></tr><tr><th id="L121">121</th><td>      });</td></tr><tr><th id="L122">122</th><td/></tr><tr><th id="L123">123</th><td>    <b>auto</b> refitend = std::find_if(refitbegin, sema.references.cend(), [l](<em>const</em> SymbolReference&amp; ref) {</td></tr><tr><th id="L124">124</th><td>      <b>return</b> ref.line &gt; l;</td></tr><tr><th id="L125">125</th><td>      });</td></tr><tr><th id="L126">126</th><td/></tr><tr><th id="L127">127</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L40" class="type cxxtypealias" sym-ref="5122.ReferenceIterator">ReferenceIterator</a> refit{ refitbegin, refitend };</td></tr><tr><th id="L128">128</th><td/></tr><tr><th id="L129">129</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L57" class="member field" sym-ref="5062.current_line_sema">current_line_sema</a><span class="member memfn" sym-ref="2124.operator->">-</span>&gt;<a href="../include/csnap/exporter/sourcehighlighter.h.html#L44" class="member field" sym-ref="5052.include">include</a> <a href="../include/csnap/exporter/iterator.h.html#L105" class="member memfn" sym-ref="5048.operator=">=</a> incit;</td></tr><tr><th id="L130">130</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L57" class="member field" sym-ref="5062.current_line_sema">current_line_sema</a><span class="member memfn" sym-ref="2124.operator->">-</span>&gt;<a href="../include/csnap/exporter/sourcehighlighter.h.html#L45" class="member field" sym-ref="5053.reference">reference</a> <a href="../include/csnap/exporter/iterator.h.html#L105" class="member memfn" sym-ref="5048.operator=">=</a> refit;</td></tr><tr><th id="L131">131</th><td>  }</td></tr><tr><th id="L132">132</th><td/></tr><tr><th id="L133">133</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L56" class="member field" sym-ref="5061.m_current_line">m_current_line</a> = l;</td></tr><tr><th id="L134">134</th><td/></tr><tr><th id="L135">135</th><td>  <span class="member memfn" sym-ref="5128.writeLineSource">writeLineSource</span>(<a href="../include/csnap/exporter/sourcehighlighter.h.html#L55" class="member field" sym-ref="5060.lexer">lexer</a>.<a href="../cpptok/include/cpptok/tokenizer.h.html#L70" class="member field" sym-ref="2895.output">output</a>, <span class="member memfn" sym-ref="2183.operator*">*</span><a href="../include/csnap/exporter/sourcehighlighter.h.html#L57" class="member field" sym-ref="5062.current_line_sema">current_line_sema</a>);</td></tr><tr><th id="L136">136</th><td>}</td></tr><tr><th id="L137">137</th><td/></tr><tr><th id="L138">138</th><td><em>int</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5066.currentLine">currentLine</dfn>() <em>const</em></td></tr><tr><th id="L139">139</th><td>{</td></tr><tr><th id="L140">140</th><td>  <b>return</b> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L56" class="member field" sym-ref="5061.m_current_line">m_current_line</a>;</td></tr><tr><th id="L141">141</th><td>}</td></tr><tr><th id="L142">142</th><td/></tr><tr><th id="L143">143</th><td><em>const</em> std::string_view&amp; <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5067.currentText">currentText</dfn>() <em>const</em></td></tr><tr><th id="L144">144</th><td>{</td></tr><tr><th id="L145">145</th><td>  <b>return</b> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L50" class="member field" sym-ref="5055.content">content</a>.lines[<a href="sourcehighlighter.cpp.html#L138" class="member memfn" sym-ref="5066.currentLine">currentLine</a>() - <var>1</var>];</td></tr><tr><th id="L146">146</th><td>}</td></tr><tr><th id="L147">147</th><td/></tr><tr><th id="L148">148</th><td><a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5068.pathHref">pathHref</dfn>(<em>const</em> std::filesystem::path&amp; p) <em>const</em></td></tr><tr><th id="L149">149</th><td>{</td></tr><tr><th id="L150">150</th><td>  <b>return</b> page.linkTo(p);</td></tr><tr><th id="L151">151</th><td>}</td></tr><tr><th id="L152">152</th><td/></tr><tr><th id="L153">153</th><td><a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member staticfn" sym-ref="5069.tagFromKeyword">tagFromKeyword</dfn>(<em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; kw)</td></tr><tr><th id="L154">154</th><td>{</td></tr><tr><th id="L155">155</th><td>  <b>static</b> <em>const</em> std::set&lt;std::string&gt; kws = {</td></tr><tr><th id="L156">156</th><td>    <var>"const"</var>,</td></tr><tr><th id="L157">157</th><td>    <var>"bool"</var>,</td></tr><tr><th id="L158">158</th><td>    <var>"void"</var>,</td></tr><tr><th id="L159">159</th><td>    <var>"char"</var>,</td></tr><tr><th id="L160">160</th><td>    <var>"int"</var>,</td></tr><tr><th id="L161">161</th><td>    <var>"float"</var>,</td></tr><tr><th id="L162">162</th><td>    <var>"double"</var>,</td></tr><tr><th id="L163">163</th><td>  };</td></tr><tr><th id="L164">164</th><td/></tr><tr><th id="L165">165</th><td>  <b>if</b> (kws.find(kw) == kws.end())</td></tr><tr><th id="L166">166</th><td>    <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>"><b>return</b></span> <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"b"</var></span>;</td></tr><tr><th id="L167">167</th><td>  <b>else</b></td></tr><tr><th id="L168">168</th><td>    <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>"><b>return</b></span> <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"em"</var></span>;</td></tr><tr><th id="L169">169</th><td>}</td></tr><tr><th id="L170">170</th><td/></tr><tr><th id="L171">171</th><td><b>inline</b> <b>static</b> <em>bool</em> <dfn class="fn" sym-ref="5145.is_class">is_class</dfn>(<span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a> w)</td></tr><tr><th id="L172">172</th><td>{</td></tr><tr><th id="L173">173</th><td>  <b>return</b> w == <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L48" class="enumconstant" sym-ref="4623.CXXClass">CXXClass</a>;</td></tr><tr><th id="L174">174</th><td>}</td></tr><tr><th id="L175">175</th><td/></tr><tr><th id="L176">176</th><td><em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member staticfn" sym-ref="5070.cssClass">cssClass</dfn>(<em>const</em> <a href="../../model/include/csnap/model/symbol.h.html#L63" class="type struct" sym-ref="4580.Symbol">Symbol</a>&amp; sym)</td></tr><tr><th id="L177">177</th><td>{</td></tr><tr><th id="L178">178</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">cxxclass</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"type cxxclass"</var></span>;</td></tr><tr><th id="L179">179</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_enum</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"type enum"</var></span>;</td></tr><tr><th id="L180">180</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_struct</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"type struct"</var></span>;</td></tr><tr><th id="L181">181</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_union</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"type union"</var></span>;</td></tr><tr><th id="L182">182</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_typedef</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"type typedef"</var></span>;</td></tr><tr><th id="L183">183</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_cxxtypealias</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"type cxxtypealias"</var></span>;</td></tr><tr><th id="L184">184</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">ns</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"namespace"</var></span>;</td></tr><tr><th id="L185">185</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">enmconstant</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"enumconstant"</var></span>;</td></tr><tr><th id="L186">186</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">fn</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"fn"</var></span>;</td></tr><tr><th id="L187">187</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_instancemethod</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"member memfn"</var></span>;</td></tr><tr><th id="L188">188</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_staticvariable</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"member staticvar"</var></span>;</td></tr><tr><th id="L189">189</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_staticmethod</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"member staticfn"</var></span>;</td></tr><tr><th id="L190">190</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_constructor</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"member constructor"</var></span>;</td></tr><tr><th id="L191">191</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_destructor</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"member destructor"</var></span>;</td></tr><tr><th id="L192">192</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_conversionfunction</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"member convfn"</var></span>;</td></tr><tr><th id="L193">193</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">memfield</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"member field"</var></span>;</td></tr><tr><th id="L194">194</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">variable</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"variable"</var></span>;</td></tr><tr><th id="L195">195</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">css_cxxinterface</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"cxxinterface"</var></span>;</td></tr><tr><th id="L196">196</th><td>  <b>static</b> <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">empty</span> = <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>""</var></span>;</td></tr><tr><th id="L197">197</th><td/></tr><tr><th id="L198">198</th><td>  <b>switch</b> (sym.<a href="../../model/include/csnap/model/symbol.h.html#L66" class="member field" sym-ref="4636.kind">kind</a>)</td></tr><tr><th id="L199">199</th><td>  {</td></tr><tr><th id="L200">200</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L33" class="enumconstant" sym-ref="4608.Typedef">Typedef</a>:</td></tr><tr><th id="L201">201</th><td>    <b>return</b> css_typedef;</td></tr><tr><th id="L202">202</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L34" class="enumconstant" sym-ref="4609.Function">Function</a>:</td></tr><tr><th id="L203">203</th><td>    <b>return</b> fn;</td></tr><tr><th id="L204">204</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L35" class="enumconstant" sym-ref="4610.Variable">Variable</a>:</td></tr><tr><th id="L205">205</th><td>    <b>return</b> variable;</td></tr><tr><th id="L206">206</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L36" class="enumconstant" sym-ref="4611.Field">Field</a>:</td></tr><tr><th id="L207">207</th><td>    <b>return</b> memfield;</td></tr><tr><th id="L208">208</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L37" class="enumconstant" sym-ref="4612.EnumConstant">EnumConstant</a>:</td></tr><tr><th id="L209">209</th><td>    <b>return</b> enmconstant;</td></tr><tr><th id="L210">210</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L45" class="enumconstant" sym-ref="4620.Enum">Enum</a>:</td></tr><tr><th id="L211">211</th><td>    <b>return</b> css_enum;</td></tr><tr><th id="L212">212</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L46" class="enumconstant" sym-ref="4621.Struct">Struct</a>:</td></tr><tr><th id="L213">213</th><td>    <b>return</b> css_struct;</td></tr><tr><th id="L214">214</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L47" class="enumconstant" sym-ref="4622.Union">Union</a>:</td></tr><tr><th id="L215">215</th><td>    <b>return</b> css_union;</td></tr><tr><th id="L216">216</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L48" class="enumconstant" sym-ref="4623.CXXClass">CXXClass</a>:</td></tr><tr><th id="L217">217</th><td>    <b>return</b> cxxclass;</td></tr><tr><th id="L218">218</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L49" class="enumconstant" sym-ref="4624.CXXNamespace">CXXNamespace</a>:</td></tr><tr><th id="L219">219</th><td>    <b>return</b> ns;</td></tr><tr><th id="L220">220</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L50" class="enumconstant" sym-ref="4625.CXXNamespaceAlias">CXXNamespaceAlias</a>:</td></tr><tr><th id="L221">221</th><td>      <b>return</b> ns;</td></tr><tr><th id="L222">222</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L51" class="enumconstant" sym-ref="4626.CXXStaticVariable">CXXStaticVariable</a>:</td></tr><tr><th id="L223">223</th><td>    <b>return</b> css_staticvariable;</td></tr><tr><th id="L224">224</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L52" class="enumconstant" sym-ref="4627.CXXStaticMethod">CXXStaticMethod</a>:</td></tr><tr><th id="L225">225</th><td>    <b>return</b> css_staticmethod;</td></tr><tr><th id="L226">226</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L53" class="enumconstant" sym-ref="4628.CXXInstanceMethod">CXXInstanceMethod</a>:</td></tr><tr><th id="L227">227</th><td>    <b>return</b> css_instancemethod;</td></tr><tr><th id="L228">228</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L54" class="enumconstant" sym-ref="4629.CXXConstructor">CXXConstructor</a>:</td></tr><tr><th id="L229">229</th><td>    <b>return</b> css_constructor;</td></tr><tr><th id="L230">230</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L55" class="enumconstant" sym-ref="4630.CXXDestructor">CXXDestructor</a>:</td></tr><tr><th id="L231">231</th><td>    <b>return</b> css_destructor;</td></tr><tr><th id="L232">232</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L56" class="enumconstant" sym-ref="4631.CXXConversionFunction">CXXConversionFunction</a>:</td></tr><tr><th id="L233">233</th><td>    <b>return</b> css_conversionfunction;</td></tr><tr><th id="L234">234</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L57" class="enumconstant" sym-ref="4632.CXXTypeAlias">CXXTypeAlias</a>:</td></tr><tr><th id="L235">235</th><td>    <b>return</b> css_cxxtypealias;</td></tr><tr><th id="L236">236</th><td>  <b>case</b> <span class="namespace" sym-ref="4505.csnap">csnap</span>::<a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L58" class="enumconstant" sym-ref="4633.CXXInterface">CXXInterface</a>:</td></tr><tr><th id="L237">237</th><td>    <b>return</b> css_cxxinterface;</td></tr><tr><th id="L238">238</th><td>  <b>default</b>:</td></tr><tr><th id="L239">239</th><td>    <b>return</b> empty;</td></tr><tr><th id="L240">240</th><td>  }</td></tr><tr><th id="L241">241</th><td>}</td></tr><tr><th id="L242">242</th><td/></tr><tr><th id="L243">243</th><td><em>int</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5146.getTokCol">getTokCol</dfn>(std::string_view text, <em>const</em> <span class="namespace" sym-ref="2715.cpptok">cpptok</span>::<a href="../cpptok/include/cpptok/token.h.html#L246" class="type cxxclass" sym-ref="2868.Token">Token</a>&amp; tok)</td></tr><tr><th id="L244">244</th><td>{</td></tr><tr><th id="L245">245</th><td>  <b>return</b> <b>static_cast</b>&lt;<em>int</em>&gt;(tok.text().data() - text.data());</td></tr><tr><th id="L246">246</th><td>}</td></tr><tr><th id="L247">247</th><td/></tr><tr><th id="L248">248</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5072.insertPrecedingSpaces">insertPrecedingSpaces</dfn>(std::string_view txt, size_t&amp; col, <em>const</em> <span class="namespace" sym-ref="2715.cpptok">cpptok</span>::<a href="../cpptok/include/cpptok/token.h.html#L246" class="type cxxclass" sym-ref="2868.Token">Token</a>&amp; tok)</td></tr><tr><th id="L249">249</th><td>{</td></tr><tr><th id="L250">250</th><td>  <em>int</em> tokcol = getTokCol(txt, tok);</td></tr><tr><th id="L251">251</th><td/></tr><tr><th id="L252">252</th><td>  <b>while</b> (col &lt; tokcol)</td></tr><tr><th id="L253">253</th><td>  {</td></tr><tr><th id="L254">254</th><td>    ++col;</td></tr><tr><th id="L255">255</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L149" class="member memfn" sym-ref="4907.writeCharacters">writeCharacters</a>(<var>" "</var>);</td></tr><tr><th id="L256">256</th><td>  }</td></tr><tr><th id="L257">257</th><td>}</td></tr><tr><th id="L258">258</th><td/></tr><tr><th id="L259">259</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5073.writeToken">writeToken</dfn>(size_t&amp; col, <em>const</em> <span class="namespace" sym-ref="2715.cpptok">cpptok</span>::<a href="../cpptok/include/cpptok/token.h.html#L246" class="type cxxclass" sym-ref="2868.Token">Token</a>&amp; tok)</td></tr><tr><th id="L260">260</th><td>{</td></tr><tr><th id="L261">261</th><td>  <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> txt = <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">std</span>::string(tok.text().data(), <b>static_cast</b>&lt;<em>int</em>&gt;(tok.text().length()));</td></tr><tr><th id="L262">262</th><td/></tr><tr><th id="L263">263</th><td>  <b>if</b> (tok.<a href="../cpptok/include/cpptok/token.h.html#L378" class="member memfn" sym-ref="2882.isKeyword">isKeyword</a>())</td></tr><tr><th id="L264">264</th><td>  {</td></tr><tr><th id="L265">265</th><td>    <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> tag = <span class="member constructor" sym-ref="64.basic_string<_Elem, _Traits, _Alloc>">tagFromKeyword</span>(txt);</td></tr><tr><th id="L266">266</th><td/></tr><tr><th id="L267">267</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(tag);</td></tr><tr><th id="L268">268</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L118" class="member memfn" sym-ref="4905.writeCharacters">writeCharacters</a>(txt);</td></tr><tr><th id="L269">269</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L270">270</th><td>  }</td></tr><tr><th id="L271">271</th><td>  <b>else</b> <b>if</b> (tok.<a href="../cpptok/include/cpptok/token.h.html#L369" class="member memfn" sym-ref="2881.isIdentifier">isIdentifier</a>() || tok.<a href="../cpptok/include/cpptok/token.h.html#L360" class="member memfn" sym-ref="2880.isOperator">isOperator</a>() || tok.<a href="../cpptok/include/cpptok/token.h.html#L351" class="member memfn" sym-ref="2879.isPunctuator">isPunctuator</a>())</td></tr><tr><th id="L272">272</th><td>  {</td></tr><tr><th id="L273">273</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L118" class="member memfn" sym-ref="4905.writeCharacters">writeCharacters</a>(txt);</td></tr><tr><th id="L274">274</th><td>  }</td></tr><tr><th id="L275">275</th><td>  <b>else</b> <b>if</b> (tok.<a href="../cpptok/include/cpptok/token.h.html#L396" class="member memfn" sym-ref="2884.isComment">isComment</a>())</td></tr><tr><th id="L276">276</th><td>  {</td></tr><tr><th id="L277">277</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"i"</var></span>);</td></tr><tr><th id="L278">278</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L118" class="member memfn" sym-ref="4905.writeCharacters">writeCharacters</a>(txt);</td></tr><tr><th id="L279">279</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L280">280</th><td>  }</td></tr><tr><th id="L281">281</th><td>  <b>else</b> <b>if</b> (tok.<a href="../cpptok/include/cpptok/token.h.html#L324" class="member memfn" sym-ref="2876.type">type</a>() <a href="../cpptok/include/cpptok/token.h.html#L221" class="fn" sym-ref="2866.operator==">==</a> <a href="../cpptok/include/cpptok/token.h.html#L212" class="member constructor" sym-ref="2864.TokenType">cpptok</a>::TokenType::Preproc)</td></tr><tr><th id="L282">282</th><td>  {</td></tr><tr><th id="L283">283</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"u"</var></span>);</td></tr><tr><th id="L284">284</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L118" class="member memfn" sym-ref="4905.writeCharacters">writeCharacters</a>(txt);</td></tr><tr><th id="L285">285</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L286">286</th><td>  }</td></tr><tr><th id="L287">287</th><td>  <b>else</b> <b>if</b> (tok.<a href="../cpptok/include/cpptok/token.h.html#L324" class="member memfn" sym-ref="2876.type">type</a>() <a href="../cpptok/include/cpptok/token.h.html#L221" class="fn" sym-ref="2866.operator==">==</a> <a href="../cpptok/include/cpptok/token.h.html#L212" class="member constructor" sym-ref="2864.TokenType">cpptok</a>::TokenType::Include)</td></tr><tr><th id="L288">288</th><td>  {</td></tr><tr><th id="L289">289</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"span"</var></span>);</td></tr><tr><th id="L290">290</th><td/></tr><tr><th id="L291">291</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"class"</var></span>, <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"include"</var></span>);</td></tr><tr><th id="L292">292</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L118" class="member memfn" sym-ref="4905.writeCharacters">writeCharacters</a>(txt);</td></tr><tr><th id="L293">293</th><td/></tr><tr><th id="L294">294</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L295">295</th><td>  }</td></tr><tr><th id="L296">296</th><td>  <b>else</b> <b>if</b> (tok.<a href="../cpptok/include/cpptok/token.h.html#L387" class="member memfn" sym-ref="2883.isLiteral">isLiteral</a>())</td></tr><tr><th id="L297">297</th><td>  {</td></tr><tr><th id="L298">298</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"var"</var></span>);</td></tr><tr><th id="L299">299</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L118" class="member memfn" sym-ref="4905.writeCharacters">writeCharacters</a>(txt);</td></tr><tr><th id="L300">300</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L301">301</th><td>  }</td></tr><tr><th id="L302">302</th><td>  <b>else</b></td></tr><tr><th id="L303">303</th><td>  {</td></tr><tr><th id="L304">304</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L118" class="member memfn" sym-ref="4905.writeCharacters">writeCharacters</a>(txt);</td></tr><tr><th id="L305">305</th><td>  }</td></tr><tr><th id="L306">306</th><td/></tr><tr><th id="L307">307</th><td>  col += <b>static_cast</b>&lt;<em>int</em>&gt;(tok.text().length());</td></tr><tr><th id="L308">308</th><td>}</td></tr><tr><th id="L309">309</th><td/></tr><tr><th id="L310">310</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5124.writeToken">writeToken</dfn>(size_t&amp; col, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L38" class="type cxxtypealias" sym-ref="5120.TokenIterator">TokenIterator</a>&amp; tokit)</td></tr><tr><th id="L311">311</th><td>{</td></tr><tr><th id="L312">312</th><td>  writeToken(col, *tokit);</td></tr><tr><th id="L313">313</th><td>  ++tokit;</td></tr><tr><th id="L314">314</th><td>}</td></tr><tr><th id="L315">315</th><td/></tr><tr><th id="L316">316</th><td><em>bool</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member staticfn" sym-ref="5075.match">match</dfn>(<em>int</em> line, <em>const</em> <a href="../../model/include/csnap/model/include.h.html#L16" class="type struct" sym-ref="4559.Include">Include</a>&amp; incl)</td></tr><tr><th id="L317">317</th><td>{</td></tr><tr><th id="L318">318</th><td>  <b>return</b> line == incl.<a href="../../model/include/csnap/model/include.h.html#L31" class="member field" sym-ref="4562.line">line</a>;</td></tr><tr><th id="L319">319</th><td>}</td></tr><tr><th id="L320">320</th><td/></tr><tr><th id="L321">321</th><td><em>bool</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member staticfn" sym-ref="5076.match">match</dfn>(size_t col, <em>const</em> <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>&amp; symref)</td></tr><tr><th id="L322">322</th><td>{</td></tr><tr><th id="L323">323</th><td>  <b>return</b> symref.<a href="../../model/include/csnap/model/reference.h.html#L24" class="member field" sym-ref="4586.col">col</a> == col + <var>1</var>;</td></tr><tr><th id="L324">324</th><td>}</td></tr><tr><th id="L325">325</th><td/></tr><tr><th id="L326">326</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5125.writeTokenAnnotated">writeTokenAnnotated</dfn>(size_t&amp; col, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L38" class="type cxxtypealias" sym-ref="5120.TokenIterator">TokenIterator</a>&amp; tokit, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L39" class="type cxxtypealias" sym-ref="5121.IncludeIterator">IncludeIterator</a>&amp; inclit)</td></tr><tr><th id="L327">327</th><td>{</td></tr><tr><th id="L328">328</th><td>  <em>const</em> <a href="../../model/include/csnap/model/file.h.html#L15" class="type struct" sym-ref="4532.File">File</a>* incfile = <a href="../include/csnap/exporter/sourcehighlighter.h.html#L52" class="member field" sym-ref="5057.files">files</a>.<a href="../../model/src/filelist.cpp.html#L55" class="member memfn" sym-ref="4555.get">get</a>(<a href="../../model/include/csnap/model/identifier.h.html#L19" class="member constructor" sym-ref="4522.Identifier<T>">(</a><a href="../include/csnap/exporter/iterator.h.html#L100" class="member memfn" sym-ref="5047.operator*">*</a>inclit).<a href="../../model/include/csnap/model/include.h.html#L26" class="member field" sym-ref="4561.included_file_id">included_file_id</a>);</td></tr><tr><th id="L329">329</th><td/></tr><tr><th id="L330">330</th><td>  <b>if</b> (!incfile || !<a href="filepagelinker.cpp.html#L84" class="member convfn" sym-ref="4944.operator bool">page</a>.links())</td></tr><tr><th id="L331">331</th><td>  {</td></tr><tr><th id="L332">332</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"span"</var></span>);</td></tr><tr><th id="L333">333</th><td/></tr><tr><th id="L334">334</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"class"</var></span>, <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"include"</var></span>);</td></tr><tr><th id="L335">335</th><td/></tr><tr><th id="L336">336</th><td>    <a href="sourcehighlighter.cpp.html#L310" class="member memfn" sym-ref="5124.writeToken">writeToken</a>(col, tokit);</td></tr><tr><th id="L337">337</th><td/></tr><tr><th id="L338">338</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L339">339</th><td>  }</td></tr><tr><th id="L340">340</th><td>  <b>else</b></td></tr><tr><th id="L341">341</th><td>  {</td></tr><tr><th id="L342">342</th><td>    <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> href = <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.links().linkTo(*incfile);</td></tr><tr><th id="L343">343</th><td/></tr><tr><th id="L344">344</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"a"</var></span>);</td></tr><tr><th id="L345">345</th><td/></tr><tr><th id="L346">346</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"class"</var></span>, <span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"include"</var></span>);</td></tr><tr><th id="L347">347</th><td/></tr><tr><th id="L348">348</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"href"</var></span>, href);</td></tr><tr><th id="L349">349</th><td/></tr><tr><th id="L350">350</th><td>    <a href="sourcehighlighter.cpp.html#L310" class="member memfn" sym-ref="5124.writeToken">writeToken</a>(col, tokit);</td></tr><tr><th id="L351">351</th><td/></tr><tr><th id="L352">352</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L353">353</th><td>  }</td></tr><tr><th id="L354">354</th><td>}</td></tr><tr><th id="L355">355</th><td/></tr><tr><th id="L356">356</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5126.writeTokenAnnotated">writeTokenAnnotated</dfn>(size_t&amp; col, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L38" class="type cxxtypealias" sym-ref="5120.TokenIterator">TokenIterator</a>&amp; tokit, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L40" class="type cxxtypealias" sym-ref="5122.ReferenceIterator">ReferenceIterator</a>&amp; refit)</td></tr><tr><th id="L357">357</th><td>{</td></tr><tr><th id="L358">358</th><td>  <em>const</em> <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>&amp; symref = <a href="../include/csnap/exporter/iterator.h.html#L100" class="member memfn" sym-ref="5047.operator*">*</a>(refit);</td></tr><tr><th id="L359">359</th><td/></tr><tr><th id="L360">360</th><td>  <em>int</em> symbol_id = symref.<a href="../../model/include/csnap/model/reference.h.html#L21" class="member field" sym-ref="4583.symbol_id">symbol_id</a>;</td></tr><tr><th id="L361">361</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L35" class="type cxxtypealias" sym-ref="5050.SymbolPtr">SymbolPtr</a> symbol = symbols.at(SymbolId(symbol_id));</td></tr><tr><th id="L362">362</th><td>  <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> sym_ref = symbol_symref(*symbol);</td></tr><tr><th id="L363">363</th><td>  <em>const</em> <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span>&amp; css_class = cssClass(*symbol);</td></tr><tr><th id="L364">364</th><td/></tr><tr><th id="L365">365</th><td>  <b>auto</b> do_write_token = [<b>this</b>, &amp;col, &amp;tokit, symbol]() {</td></tr><tr><th id="L366">366</th><td>    <a href="sourcehighlighter.cpp.html#L310" class="member memfn" sym-ref="5124.writeToken">writeToken</a>(col, tokit);</td></tr><tr><th id="L367">367</th><td/></tr><tr><th id="L368">368</th><td>    <b>if</b> (symbol &amp;&amp; symbol-&gt;kind == Whatsit::CXXDestructor)</td></tr><tr><th id="L369">369</th><td>    {</td></tr><tr><th id="L370">370</th><td>      <a href="sourcehighlighter.cpp.html#L310" class="member memfn" sym-ref="5124.writeToken">writeToken</a>(col, tokit);</td></tr><tr><th id="L371">371</th><td>    }</td></tr><tr><th id="L372">372</th><td>  };</td></tr><tr><th id="L373">373</th><td/></tr><tr><th id="L374">374</th><td>  <b>if</b> (symref.<a href="../../model/include/csnap/model/reference.h.html#L34" class="member field" sym-ref="4588.flags">flags</a> &amp; <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>::<a href="../../model/include/csnap/model/reference.h.html#L44" class="enumconstant" sym-ref="4591.Definition">Definition</a>)</td></tr><tr><th id="L375">375</th><td>  {</td></tr><tr><th id="L376">376</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"dfn"</var></span>);</td></tr><tr><th id="L377">377</th><td/></tr><tr><th id="L378">378</th><td>    <b>if</b> (!css_class.<span class="member memfn" sym-ref="1751.empty">empty</span>())</td></tr><tr><th id="L379">379</th><td>      <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"class"</var></span>, css_class);</td></tr><tr><th id="L380">380</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"sym-ref"</var></span>, sym_ref);</td></tr><tr><th id="L381">381</th><td/></tr><tr><th id="L382">382</th><td>    do_write_token();</td></tr><tr><th id="L383">383</th><td/></tr><tr><th id="L384">384</th><td>    <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L385">385</th><td>  }</td></tr><tr><th id="L386">386</th><td>  <b>else</b></td></tr><tr><th id="L387">387</th><td>  {</td></tr><tr><th id="L388">388</th><td>    <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a> symdef;</td></tr><tr><th id="L389">389</th><td/></tr><tr><th id="L390">390</th><td>    <b>if</b> (<a href="../include/csnap/exporter/sourcehighlighter.h.html#L54" class="member field" sym-ref="5059.definitions">definitions</a>.<a href="definitiontable.cpp.html#L62" class="member memfn" sym-ref="4887.hasUniqueDefinition">hasUniqueDefinition</a>(<a href="../../model/include/csnap/model/identifier.h.html#L19" class="member constructor" sym-ref="4522.Identifier<T>">SymbolId</a>(symbol_id), &amp;symdef) &amp;&amp; page.links())</td></tr><tr><th id="L391">391</th><td>    {</td></tr><tr><th id="L392">392</th><td>      <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxtypealias" sym-ref="32.string">string</span> href = <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.links().linkTo(*files.get(FileId(symdef.file_id)), symdef.line);</td></tr><tr><th id="L393">393</th><td/></tr><tr><th id="L394">394</th><td>      {</td></tr><tr><th id="L395">395</th><td>        <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"a"</var></span>);</td></tr><tr><th id="L396">396</th><td/></tr><tr><th id="L397">397</th><td>        <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"href"</var></span>, href);</td></tr><tr><th id="L398">398</th><td>        <b>if</b> (!css_class.<span class="member memfn" sym-ref="1751.empty">empty</span>())</td></tr><tr><th id="L399">399</th><td>          <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"class"</var></span>, css_class);</td></tr><tr><th id="L400">400</th><td>        <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"sym-ref"</var></span>, sym_ref);</td></tr><tr><th id="L401">401</th><td/></tr><tr><th id="L402">402</th><td>        do_write_token();</td></tr><tr><th id="L403">403</th><td/></tr><tr><th id="L404">404</th><td>        <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L405">405</th><td>      }</td></tr><tr><th id="L406">406</th><td/></tr><tr><th id="L407">407</th><td>    }</td></tr><tr><th id="L408">408</th><td>    <b>else</b></td></tr><tr><th id="L409">409</th><td>    {</td></tr><tr><th id="L410">410</th><td>      <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L46" class="member memfn" sym-ref="4901.writeStartElement">writeStartElement</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"span"</var></span>);</td></tr><tr><th id="L411">411</th><td/></tr><tr><th id="L412">412</th><td>      <b>if</b> (!css_class.<span class="member memfn" sym-ref="1751.empty">empty</span>())</td></tr><tr><th id="L413">413</th><td>        <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"class"</var></span>, css_class);</td></tr><tr><th id="L414">414</th><td>      <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L89" class="member memfn" sym-ref="4903.writeAttribute">writeAttribute</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"sym-ref"</var></span>, sym_ref);</td></tr><tr><th id="L415">415</th><td/></tr><tr><th id="L416">416</th><td>      do_write_token();</td></tr><tr><th id="L417">417</th><td/></tr><tr><th id="L418">418</th><td>      <a href="../include/csnap/exporter/sourcehighlighter.h.html#L49" class="member field" sym-ref="5054.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L65" class="member memfn" sym-ref="4902.writeEndElement">writeEndElement</a>();</td></tr><tr><th id="L419">419</th><td>    }</td></tr><tr><th id="L420">420</th><td>  }</td></tr><tr><th id="L421">421</th><td>}</td></tr><tr><th id="L422">422</th><td/></tr><tr><th id="L423">423</th><td><b>static</b> <em>void</em> <dfn class="fn" sym-ref="5147.advance_reference">advance_reference</dfn>(<a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<a href="../include/csnap/exporter/sourcehighlighter.h.html#L40" class="type cxxtypealias" sym-ref="5122.ReferenceIterator">ReferenceIterator</a>&amp; iterator)</td></tr><tr><th id="L424">424</th><td>{</td></tr><tr><th id="L425">425</th><td>  <em>int</em> col = (<a href="../include/csnap/exporter/iterator.h.html#L100" class="member memfn" sym-ref="5047.operator*">*</a>iterator).<a href="../../model/include/csnap/model/reference.h.html#L24" class="member field" sym-ref="4586.col">col</a>;</td></tr><tr><th id="L426">426</th><td/></tr><tr><th id="L427">427</th><td>  <i>// Should be simply,</i></td></tr><tr><th id="L428">428</th><td>  <a href="../include/csnap/exporter/iterator.h.html#L78" class="member memfn" sym-ref="5045.operator++">++</a>iterator;</td></tr><tr><th id="L429">429</th><td>  <i>// in case it doesn't work (for some reasons), uncomment the following lines:</i></td></tr><tr><th id="L430">430</th><td/></tr><tr><th id="L431">431</th><td> <i>/* while (!iterator.atend() &amp;&amp; (*iterator).col == col)</i></td></tr><tr><th id="L432">432</th><td><i>    ++iterator;*/</i></td></tr><tr><th id="L433">433</th><td>  (<em>void</em>)col;</td></tr><tr><th id="L434">434</th><td>}</td></tr><tr><th id="L435">435</th><td/></tr><tr><th id="L436">436</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5127.writeTokens">writeTokens</dfn>(size_t&amp; col, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L38" class="type cxxtypealias" sym-ref="5120.TokenIterator">TokenIterator</a>&amp; tokit, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L42" class="type struct" sym-ref="5051.SemaIterators">SemaIterators</a>&amp; sema)</td></tr><tr><th id="L437">437</th><td>{</td></tr><tr><th id="L438">438</th><td>  <b>while</b> (!tokit.atend())</td></tr><tr><th id="L439">439</th><td>  {</td></tr><tr><th id="L440">440</th><td>    insertPrecedingSpaces(currentText(), col, *tokit);</td></tr><tr><th id="L441">441</th><td/></tr><tr><th id="L442">442</th><td>    <b>if</b> ((*tokit).type() == cpptok::TokenType::Include &amp;&amp; !sema.include.atend() &amp;&amp; match(m_current_line, *sema.include))</td></tr><tr><th id="L443">443</th><td>    {</td></tr><tr><th id="L444">444</th><td>      writeTokenAnnotated(col, tokit, sema.include);</td></tr><tr><th id="L445">445</th><td>      ++sema.include;</td></tr><tr><th id="L446">446</th><td>    }</td></tr><tr><th id="L447">447</th><td>    <b>else</b> <b>if</b> (!sema.reference.atend() &amp;&amp; match(col, *sema.reference))</td></tr><tr><th id="L448">448</th><td>    {</td></tr><tr><th id="L449">449</th><td>      writeTokenAnnotated(col, tokit, sema.reference);</td></tr><tr><th id="L450">450</th><td>      advance_reference(sema.reference);</td></tr><tr><th id="L451">451</th><td>    }</td></tr><tr><th id="L452">452</th><td>    <b>else</b></td></tr><tr><th id="L453">453</th><td>    {</td></tr><tr><th id="L454">454</th><td>      writeToken(col, *tokit);</td></tr><tr><th id="L455">455</th><td>      ++tokit;</td></tr><tr><th id="L456">456</th><td>    }</td></tr><tr><th id="L457">457</th><td>  }</td></tr><tr><th id="L458">458</th><td>}</td></tr><tr><th id="L459">459</th><td/></tr><tr><th id="L460">460</th><td><em>void</em> <a href="../include/csnap/exporter/sourcehighlighter.h.html#L32" class="type cxxclass" sym-ref="5049.SourceHighlighter">SourceHighlighter</a>::<dfn class="member memfn" sym-ref="5079.writeLineSource">writeLineSource</dfn>(<em>const</em> std::vector&lt;cpptok::Token&gt;&amp; tokens, <a href="../include/csnap/exporter/sourcehighlighter.h.html#L42" class="type struct" sym-ref="5051.SemaIterators">SemaIterators</a>&amp; sema)</td></tr><tr><th id="L461">461</th><td>{</td></tr><tr><th id="L462">462</th><td>  <a href="../include/csnap/exporter/sourcehighlighter.h.html#L38" class="type cxxtypealias" sym-ref="5120.TokenIterator">TokenIterator</a> tokit{ tokens.begin(), tokens.end() };</td></tr><tr><th id="L463">463</th><td>  size_t col = <var>0</var>;</td></tr><tr><th id="L464">464</th><td/></tr><tr><th id="L465">465</th><td>  writeTokens(col, tokit, sema);</td></tr><tr><th id="L466">466</th><td>}</td></tr><tr><th id="L467">467</th><td/></tr><tr><th id="L468">468</th><td>} <i>// namespace csnap</i></td></tr></tbody></table></div></body></html>