<!DOCTYPE html>
<html><head><title>C:/projects/csnap/exporter/src/symbolpage.cpp</title><link id="codestylesheet" rel="stylesheet" type="text/css" href="../../../syntax.qtcreator.css"/><link rel="stylesheet" type="text/css" href="../../../tooltip.css"/><script type="text/javascript">var csnapRootPath="../../../";</script><script type="text/javascript" src="../../../codenav.js"> </script></head><body><div id="content"><h2>Code</h2><table class="code" file-id="47"><tbody><tr><th id="L1">1</th><td><i>// Copyright (C) 2023 Vincent Chambrin</i></td></tr><tr><th id="L2">2</th><td><i>// This file is part of the 'csnap' project.</i></td></tr><tr><th id="L3">3</th><td><i>// For conditions of distribution and use, see copyright notice in LICENSE.</i></td></tr><tr><th id="L4">4</th><td/></tr><tr><th id="L5">5</th><td><u>#include</u> <a class="include" href="../include/csnap/exporter/symbolpage.h.html"><span class="include">"symbolpage.h"</span></a></td></tr><tr><th id="L6">6</th><td/></tr><tr><th id="L7">7</th><td><u>#include</u> <a class="include" href="../include/csnap/exporter/sourcehighlighter.h.html"><span class="include">"sourcehighlighter.h"</span></a></td></tr><tr><th id="L8">8</th><td/></tr><tr><th id="L9">9</th><td><u>#include</u> <a class="include" href="../cpptok/include/cpptok/tokenizer.h.html"><span class="include">&lt;cpptok/tokenizer.h&gt;</span></a></td></tr><tr><th id="L10">10</th><td/></tr><tr><th id="L11">11</th><td><b>namespace</b> <dfn class="namespace" sym-ref="4505.csnap">csnap</dfn></td></tr><tr><th id="L12">12</th><td>{</td></tr><tr><th id="L13">13</th><td/></tr><tr><th id="L14">14</th><td><em>void</em> <dfn class="fn" sym-ref="5148.extract_decl_and_defs">extract_decl_and_defs</dfn>(std::vector&lt;SymbolReference&gt;&amp; refs, std::vector&lt;SymbolReference&gt;&amp; decls, std::vector&lt;SymbolReference&gt;&amp; defs)</td></tr><tr><th id="L15">15</th><td>{</td></tr><tr><th id="L16">16</th><td>  <b>auto</b> is_decl_or_def = [](<em>const</em> <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>&amp; r) -&gt; <em>bool</em> {</td></tr><tr><th id="L17">17</th><td>    <b>return</b> r.<a href="../../model/include/csnap/model/reference.h.html#L34" class="member field" sym-ref="4588.flags">flags</a> &amp; (<a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>::<a href="../../model/include/csnap/model/reference.h.html#L43" class="enumconstant" sym-ref="4590.Declaration">Declaration</a> | <a href="../../model/include/csnap/model/reference.h.html#L16" class="type struct" sym-ref="4582.SymbolReference">SymbolReference</a>::<a href="../../model/include/csnap/model/reference.h.html#L44" class="enumconstant" sym-ref="4591.Definition">Definition</a>);</td></tr><tr><th id="L18">18</th><td>  };</td></tr><tr><th id="L19">19</th><td/></tr><tr><th id="L20">20</th><td>  <b>auto</b> it = std::find_if(refs.begin(), refs.end(), is_decl_or_def);</td></tr><tr><th id="L21">21</th><td/></tr><tr><th id="L22">22</th><td>  <b>while</b> (it != refs.end())</td></tr><tr><th id="L23">23</th><td>  {</td></tr><tr><th id="L24">24</th><td>    <b>if</b> (it-&gt;flags &amp; SymbolReference::Declaration)</td></tr><tr><th id="L25">25</th><td>      decls.push_back(*it);</td></tr><tr><th id="L26">26</th><td>    <b>else</b></td></tr><tr><th id="L27">27</th><td>      defs.push_back(*it);</td></tr><tr><th id="L28">28</th><td/></tr><tr><th id="L29">29</th><td>    it = refs.erase(it);</td></tr><tr><th id="L30">30</th><td/></tr><tr><th id="L31">31</th><td>    it = std::find_if(refs.begin(), refs.end(), is_decl_or_def);</td></tr><tr><th id="L32">32</th><td>  }</td></tr><tr><th id="L33">33</th><td>}</td></tr><tr><th id="L34">34</th><td/></tr><tr><th id="L35">35</th><td><a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member constructor" sym-ref="5091.SymbolPageGenerator">SymbolPageGenerator</dfn>(<a href="../include/csnap/exporter/htmlpage.h.html#L16" class="type cxxclass" sym-ref="4945.HtmlPage">HtmlPage</a>&amp; p, <a href="../../db/include/csnap/database/snapshot.h.html#L34" class="type cxxclass" sym-ref="4686.Snapshot">Snapshot</a>&amp; snap, <em>const</em> <a href="../../model/include/csnap/model/symbol.h.html#L63" class="type struct" sym-ref="4580.Symbol">Symbol</a>&amp; sym) :</td></tr><tr><th id="L36">36</th><td>  <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>(p),</td></tr><tr><th id="L37">37</th><td>  <a href="../include/csnap/exporter/symbolpage.h.html#L20" class="member field" sym-ref="5089.snapshot">snapshot</a>(snap),</td></tr><tr><th id="L38">38</th><td>  <a href="../include/csnap/exporter/symbolpage.h.html#L21" class="member field" sym-ref="5090.symbol">symbol</a>(sym)</td></tr><tr><th id="L39">39</th><td>{</td></tr><tr><th id="L40">40</th><td/></tr><tr><th id="L41">41</th><td>}</td></tr><tr><th id="L42">42</th><td/></tr><tr><th id="L43">43</th><td><a href="../include/csnap/exporter/pathresolver.h.html#L18" class="type cxxclass" sym-ref="4930.PathResolver">PathResolver</a>* <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5092.pathResolver">pathResolver</dfn>() <em>const</em></td></tr><tr><th id="L44">44</th><td>{</td></tr><tr><th id="L45">45</th><td>  <b>return</b> <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L49" class="member memfn" sym-ref="4952.links">links</a>().<a href="filepagelinker.cpp.html#L41" class="member memfn" sym-ref="4940.pathResolver">pathResolver</a>();</td></tr><tr><th id="L46">46</th><td>}</td></tr><tr><th id="L47">47</th><td/></tr><tr><th id="L48">48</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5093.setPathResolver">setPathResolver</dfn>(<a href="../include/csnap/exporter/pathresolver.h.html#L18" class="type cxxclass" sym-ref="4930.PathResolver">PathResolver</a>&amp; resolver)</td></tr><tr><th id="L49">49</th><td>{</td></tr><tr><th id="L50">50</th><td>  <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L49" class="member memfn" sym-ref="4952.links">links</a>().<a href="filepagelinker.cpp.html#L49" class="member memfn" sym-ref="4941.setPathResolver">setPathResolver</a>(resolver);</td></tr><tr><th id="L51">51</th><td>}</td></tr><tr><th id="L52">52</th><td/></tr><tr><th id="L53">53</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5094.writePage">writePage</dfn>()</td></tr><tr><th id="L54">54</th><td>{</td></tr><tr><th id="L55">55</th><td>  <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L22" class="member field" sym-ref="4947.xml">xml</a>.<a href="xmlwriter.cpp.html#L37" class="member memfn" sym-ref="4900.write">write</a>(<span class="member constructor" sym-ref="665.basic_string<_Elem, _Traits, _Alloc>"><var>"&lt;!DOCTYPE html&gt;\n"</var></span>);</td></tr><tr><th id="L56">56</th><td/></tr><tr><th id="L57">57</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L130" class="fn" sym-ref="4968.start">start</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L58">58</th><td>  {</td></tr><tr><th id="L59">59</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L149" class="fn" sym-ref="4970.head">head</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L60">60</th><td>    {</td></tr><tr><th id="L61">61</th><td>      <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L151" class="fn" sym-ref="4974.title">title</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L62">62</th><td>      <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a> <a href="../include/csnap/exporter/htmlpage.h.html#L80" class="fn" sym-ref="4959.operator<<">&lt;&lt;</a> <a href="../include/csnap/exporter/symbolpage.h.html#L21" class="member field" sym-ref="5090.symbol">symbol</a>.<a href="../../model/include/csnap/model/symbol.h.html#L67" class="member field" sym-ref="4637.name">name</a>;</td></tr><tr><th id="L63">63</th><td>      <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L151" class="fn" sym-ref="4975.endtitle">endtitle</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L64">64</th><td/></tr><tr><th id="L65">65</th><td>      <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L152" class="fn" sym-ref="4976.link">link</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>, {</td></tr><tr><th id="L66">66</th><td>        { <var>"rel"</var>, <var>"stylesheet"</var> },</td></tr><tr><th id="L67">67</th><td>        { <var>"type"</var>, <var>"text/css"</var> },</td></tr><tr><th id="L68">68</th><td>        { <var>"href"</var>, <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L59" class="member memfn" sym-ref="4954.url">url</a>().<a href="../include/csnap/exporter/pageurl.h.html#L56" class="member memfn" sym-ref="4923.pathToRoot">pathToRoot</a>() + <var>"symbolpage.css"</var> }</td></tr><tr><th id="L69">69</th><td>        });</td></tr><tr><th id="L70">70</th><td>      <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L152" class="fn" sym-ref="4977.endlink">endlink</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L71">71</th><td>    }</td></tr><tr><th id="L72">72</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L149" class="fn" sym-ref="4971.endhead">endhead</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L73">73</th><td/></tr><tr><th id="L74">74</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L150" class="fn" sym-ref="4972.body">body</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L75">75</th><td>    {</td></tr><tr><th id="L76">76</th><td>      <a href="symbolpage.cpp.html#L83" class="member memfn" sym-ref="5095.writeBody">writeBody</a>();</td></tr><tr><th id="L77">77</th><td>    }</td></tr><tr><th id="L78">78</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L150" class="fn" sym-ref="4973.endbody">endbody</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L79">79</th><td>  }</td></tr><tr><th id="L80">80</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L135" class="fn" sym-ref="4969.end">end</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L81">81</th><td>}</td></tr><tr><th id="L82">82</th><td/></tr><tr><th id="L83">83</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5095.writeBody">writeBody</dfn>()</td></tr><tr><th id="L84">84</th><td>{</td></tr><tr><th id="L85">85</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L155" class="fn" sym-ref="4982.h1">h1</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L86">86</th><td>  <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a> <a href="../include/csnap/exporter/htmlpage.h.html#L80" class="fn" sym-ref="4959.operator<<">&lt;&lt;</a> <a href="../include/csnap/exporter/symbolpage.h.html#L21" class="member field" sym-ref="5090.symbol">symbol</a>.<a href="../../model/include/csnap/model/symbol.h.html#L67" class="member field" sym-ref="4637.name">name</a>;</td></tr><tr><th id="L87">87</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L155" class="fn" sym-ref="4983.endh1">endh1</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L88">88</th><td/></tr><tr><th id="L89">89</th><td>  <a href="symbolpage.cpp.html#L131" class="member memfn" sym-ref="5096.writeSummary">writeSummary</a>();</td></tr><tr><th id="L90">90</th><td/></tr><tr><th id="L91">91</th><td>  std::vector&lt;SymbolReference&gt; refs = snapshot.listReferences(symbol.id);</td></tr><tr><th id="L92">92</th><td>  std::vector&lt;SymbolReference&gt; decls, defs;</td></tr><tr><th id="L93">93</th><td>  extract_decl_and_defs(refs, decls, defs);</td></tr><tr><th id="L94">94</th><td/></tr><tr><th id="L95">95</th><td>  <b>if</b> (!decls.empty())</td></tr><tr><th id="L96">96</th><td>  {</td></tr><tr><th id="L97">97</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L156" class="fn" sym-ref="4984.h2">h2</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L98">98</th><td>    page &lt;&lt; <var>"Declarations ("</var> &lt;&lt; (<em>int</em>)decls.size() &lt;&lt; <var>")"</var>;</td></tr><tr><th id="L99">99</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L156" class="fn" sym-ref="4985.endh2">endh2</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L100">100</th><td/></tr><tr><th id="L101">101</th><td>    writeDecls(decls);</td></tr><tr><th id="L102">102</th><td>  }</td></tr><tr><th id="L103">103</th><td/></tr><tr><th id="L104">104</th><td>  <b>if</b> (!defs.empty())</td></tr><tr><th id="L105">105</th><td>  {</td></tr><tr><th id="L106">106</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L156" class="fn" sym-ref="4984.h2">h2</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L107">107</th><td/></tr><tr><th id="L108">108</th><td>    <b>if</b> (defs.size() &gt; <var>1</var>)</td></tr><tr><th id="L109">109</th><td>    {</td></tr><tr><th id="L110">110</th><td>      page &lt;&lt; <var>"Definitions ("</var> &lt;&lt; (<em>int</em>)defs.size() &lt;&lt; <var>")"</var>;</td></tr><tr><th id="L111">111</th><td>    }</td></tr><tr><th id="L112">112</th><td>    <b>else</b></td></tr><tr><th id="L113">113</th><td>    {</td></tr><tr><th id="L114">114</th><td>      <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a> <a href="../include/csnap/exporter/htmlpage.h.html#L92" class="fn" sym-ref="4960.operator<<">&lt;&lt;</a> <var>"Definition"</var>;</td></tr><tr><th id="L115">115</th><td>    }</td></tr><tr><th id="L116">116</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L156" class="fn" sym-ref="4985.endh2">endh2</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L117">117</th><td/></tr><tr><th id="L118">118</th><td>    writeDecls(defs);</td></tr><tr><th id="L119">119</th><td>  }</td></tr><tr><th id="L120">120</th><td/></tr><tr><th id="L121">121</th><td>  <b>if</b> (!refs.empty())</td></tr><tr><th id="L122">122</th><td>  {</td></tr><tr><th id="L123">123</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L156" class="fn" sym-ref="4984.h2">h2</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L124">124</th><td>    page &lt;&lt; <var>"Uses ("</var> &lt;&lt; (<em>int</em>)refs.size() &lt;&lt; <var>")"</var>;</td></tr><tr><th id="L125">125</th><td>    <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L125" class="fn" sym-ref="4967.endelement">endelement</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L126">126</th><td/></tr><tr><th id="L127">127</th><td>    writeUses(refs);</td></tr><tr><th id="L128">128</th><td>  }</td></tr><tr><th id="L129">129</th><td>}</td></tr><tr><th id="L130">130</th><td/></tr><tr><th id="L131">131</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5096.writeSummary">writeSummary</dfn>()</td></tr><tr><th id="L132">132</th><td>{</td></tr><tr><th id="L133">133</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4988.p">p</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L134">134</th><td>  {</td></tr><tr><th id="L135">135</th><td>    <b>static</b> <em>const</em> std::map&lt;Symbol::Flag, std::string&gt; dict = {</td></tr><tr><th id="L136">136</th><td>      { Symbol::Public, <var>"public"</var> },</td></tr><tr><th id="L137">137</th><td>      { Symbol::Protected, <var>"protected"</var> },</td></tr><tr><th id="L138">138</th><td>      { Symbol::Private, <var>"private"</var> },</td></tr><tr><th id="L139">139</th><td>      { Symbol::Inline, <var>"inline"</var> },</td></tr><tr><th id="L140">140</th><td>      { Symbol::Static, <var>"static"</var> },</td></tr><tr><th id="L141">141</th><td>      { Symbol::Constexpr, <var>"constexpr"</var> },</td></tr><tr><th id="L142">142</th><td>      { Symbol::IsScoped, <var>"scoped"</var> },</td></tr><tr><th id="L143">143</th><td>      { Symbol::IsStruct, <var>"struct"</var> },</td></tr><tr><th id="L144">144</th><td>      { Symbol::IsFinal, <var>"final"</var> },</td></tr><tr><th id="L145">145</th><td>      { Symbol::Virtual, <var>"virtual"</var> },</td></tr><tr><th id="L146">146</th><td>      { Symbol::Override, <var>"override"</var> },</td></tr><tr><th id="L147">147</th><td>      { Symbol::Final, <var>"final"</var> },</td></tr><tr><th id="L148">148</th><td>      { Symbol::Const, <var>"const"</var> },</td></tr><tr><th id="L149">149</th><td>      { Symbol::Pure, <var>"pure"</var> },</td></tr><tr><th id="L150">150</th><td>      { Symbol::Noexcept, <var>"noexcept"</var> },</td></tr><tr><th id="L151">151</th><td>      { Symbol::Explicit, <var>"explicit"</var> },</td></tr><tr><th id="L152">152</th><td>      { Symbol::Default, <var>"default"</var> },</td></tr><tr><th id="L153">153</th><td>      { Symbol::Delete, <var>"delete"</var> },</td></tr><tr><th id="L154">154</th><td>    };</td></tr><tr><th id="L155">155</th><td/></tr><tr><th id="L156">156</th><td>    <b>for</b> (<em>const</em> <b>auto</b>&amp; p : dict)</td></tr><tr><th id="L157">157</th><td>    {</td></tr><tr><th id="L158">158</th><td>      <b>if</b> (csnap::test_flag(symbol, p.first))</td></tr><tr><th id="L159">159</th><td>      {</td></tr><tr><th id="L160">160</th><td>        html::span(page);</td></tr><tr><th id="L161">161</th><td>        html::attr(page, <var>"class"</var>, <var>"symbol-flag"</var>);</td></tr><tr><th id="L162">162</th><td>        page &lt;&lt; <var>"["</var> &lt;&lt; p.second &lt;&lt; <var>"]"</var>;</td></tr><tr><th id="L163">163</th><td>        html::endspan(page);</td></tr><tr><th id="L164">164</th><td>      }</td></tr><tr><th id="L165">165</th><td>    }</td></tr><tr><th id="L166">166</th><td>  }</td></tr><tr><th id="L167">167</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4989.endp">endp</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L168">168</th><td/></tr><tr><th id="L169">169</th><td>  <b>if</b> (<a href="../include/csnap/exporter/symbolpage.h.html#L21" class="member field" sym-ref="5090.symbol">symbol</a>.parent_id.valid())</td></tr><tr><th id="L170">170</th><td>  {</td></tr><tr><th id="L171">171</th><td>    <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="506.shared_ptr">shared_ptr</span>&lt;<a href="../../model/include/csnap/model/symbol.h.html#L63" class="type struct" sym-ref="4580.Symbol">Symbol</a>&gt; parent = snapshot.getSymbol(symbol.parent_id);</td></tr><tr><th id="L172">172</th><td/></tr><tr><th id="L173">173</th><td>    <b>if</b> (parent)</td></tr><tr><th id="L174">174</th><td>    {</td></tr><tr><th id="L175">175</th><td>      <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4988.p">p</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L176">176</th><td>      {</td></tr><tr><th id="L177">177</th><td>        <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a> <a href="../include/csnap/exporter/htmlpage.h.html#L92" class="fn" sym-ref="4960.operator<<">&lt;&lt;</a> <var>"Semantic parent: "</var>;</td></tr><tr><th id="L178">178</th><td/></tr><tr><th id="L179">179</th><td>        <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L159" class="fn" sym-ref="4990.a">a</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L180">180</th><td>        html::attr(page, <var>"href"</var>, SourceHighlighter::symbol_symref(*parent) + <var>".html"</var>);</td></tr><tr><th id="L181">181</th><td>        page &lt;&lt; parent-&gt;name;</td></tr><tr><th id="L182">182</th><td>        <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L159" class="fn" sym-ref="4991.enda">enda</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L183">183</th><td>      }</td></tr><tr><th id="L184">184</th><td>      <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4989.endp">endp</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L185">185</th><td>    }</td></tr><tr><th id="L186">186</th><td>  }</td></tr><tr><th id="L187">187</th><td/></tr><tr><th id="L188">188</th><td>  <b>if</b> (<a href="../include/csnap/exporter/symbolpage.h.html#L21" class="member field" sym-ref="5090.symbol">symbol</a>.<a href="../../model/include/csnap/model/symbol.h.html#L66" class="member field" sym-ref="4636.kind">kind</a> == <a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L48" class="enumconstant" sym-ref="4623.CXXClass">CXXClass</a> || <a href="../include/csnap/exporter/symbolpage.h.html#L21" class="member field" sym-ref="5090.symbol">symbol</a>.<a href="../../model/include/csnap/model/symbol.h.html#L66" class="member field" sym-ref="4636.kind">kind</a> == <a href="../../model/include/csnap/model/symbol.h.html#L30" class="type enum" sym-ref="4606.Whatsit">Whatsit</a>::<a href="../../model/include/csnap/model/symbol.h.html#L46" class="enumconstant" sym-ref="4621.Struct">Struct</a>)</td></tr><tr><th id="L189">189</th><td>  {</td></tr><tr><th id="L190">190</th><td>    <a href="symbolpage.cpp.html#L197" class="member memfn" sym-ref="5097.writeBases">writeBases</a>();</td></tr><tr><th id="L191">191</th><td>    <a href="symbolpage.cpp.html#L247" class="member memfn" sym-ref="5098.writeDerivedClasses">writeDerivedClasses</a>();</td></tr><tr><th id="L192">192</th><td>  }</td></tr><tr><th id="L193">193</th><td/></tr><tr><th id="L194">194</th><td>  <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>.<a href="../include/csnap/exporter/htmlpage.h.html#L69" class="member memfn" sym-ref="4956.write">write</a>(<var>"&lt;p&gt;&lt;b&gt;Usr:&lt;/b&gt; "</var> + <a href="../include/csnap/exporter/symbolpage.h.html#L21" class="member field" sym-ref="5090.symbol">symbol</a>.<a href="../../model/include/csnap/model/symbol.h.html#L68" class="member field" sym-ref="4638.usr">usr</a> + <var>"&lt;/p&gt;\n"</var>);</td></tr><tr><th id="L195">195</th><td>}</td></tr><tr><th id="L196">196</th><td/></tr><tr><th id="L197">197</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5097.writeBases">writeBases</dfn>()</td></tr><tr><th id="L198">198</th><td>{</td></tr><tr><th id="L199">199</th><td>  std::vector&lt;BaseClass&gt; bases = snapshot.listBaseClasses(symbol.id);</td></tr><tr><th id="L200">200</th><td/></tr><tr><th id="L201">201</th><td>  <b>if</b> (bases.empty())</td></tr><tr><th id="L202">202</th><td>    <b>return</b>;</td></tr><tr><th id="L203">203</th><td/></tr><tr><th id="L204">204</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4988.p">p</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L205">205</th><td>  {</td></tr><tr><th id="L206">206</th><td>    <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a> <a href="../include/csnap/exporter/htmlpage.h.html#L92" class="fn" sym-ref="4960.operator<<">&lt;&lt;</a> <var>"Bases: "</var>;</td></tr><tr><th id="L207">207</th><td/></tr><tr><th id="L208">208</th><td>    <b>for</b> (size_t i(<var>0</var>); i &lt; bases.size(); ++i)</td></tr><tr><th id="L209">209</th><td>    {</td></tr><tr><th id="L210">210</th><td>      <em>const</em> BaseClass&amp; base = bases.at(i);</td></tr><tr><th id="L211">211</th><td>      std::shared_ptr&lt;Symbol&gt; basesymbol = snapshot.getSymbol(base.base_id);</td></tr><tr><th id="L212">212</th><td/></tr><tr><th id="L213">213</th><td>      <b>if</b> (!basesymbol)</td></tr><tr><th id="L214">214</th><td>        <b>continue</b>;</td></tr><tr><th id="L215">215</th><td/></tr><tr><th id="L216">216</th><td>      html::a(page);</td></tr><tr><th id="L217">217</th><td/></tr><tr><th id="L218">218</th><td>      <b>switch</b> (base.access_specifier)</td></tr><tr><th id="L219">219</th><td>      {</td></tr><tr><th id="L220">220</th><td>      <b>case</b> AccessSpecifier::Public:</td></tr><tr><th id="L221">221</th><td>        html::attr(page, <var>"class"</var>, <var>"public-base"</var>);</td></tr><tr><th id="L222">222</th><td>        <b>break</b>;</td></tr><tr><th id="L223">223</th><td>      <b>case</b> AccessSpecifier::Protected:</td></tr><tr><th id="L224">224</th><td>        html::attr(page, <var>"class"</var>, <var>"protected-base"</var>);</td></tr><tr><th id="L225">225</th><td>        <b>break</b>;</td></tr><tr><th id="L226">226</th><td>      <b>case</b> AccessSpecifier::Private:</td></tr><tr><th id="L227">227</th><td>        html::attr(page, <var>"class"</var>, <var>"private-base"</var>);</td></tr><tr><th id="L228">228</th><td>        <b>break</b>;</td></tr><tr><th id="L229">229</th><td>      <b>default</b>:</td></tr><tr><th id="L230">230</th><td>        <b>break</b>;</td></tr><tr><th id="L231">231</th><td>      }</td></tr><tr><th id="L232">232</th><td/></tr><tr><th id="L233">233</th><td>      html::attr(page, <var>"href"</var>, SourceHighlighter::symbol_symref(*basesymbol) + <var>".html"</var>);</td></tr><tr><th id="L234">234</th><td/></tr><tr><th id="L235">235</th><td>      page &lt;&lt; basesymbol-&gt;name;</td></tr><tr><th id="L236">236</th><td>      html::enda(page);</td></tr><tr><th id="L237">237</th><td/></tr><tr><th id="L238">238</th><td>      <b>if</b> (i != bases.size() - <var>1</var>)</td></tr><tr><th id="L239">239</th><td>        page &lt;&lt; <var>", "</var>;</td></tr><tr><th id="L240">240</th><td>      <b>else</b></td></tr><tr><th id="L241">241</th><td>        page &lt;&lt; <var>"."</var>;</td></tr><tr><th id="L242">242</th><td>    }</td></tr><tr><th id="L243">243</th><td>  }</td></tr><tr><th id="L244">244</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4989.endp">endp</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L245">245</th><td>}</td></tr><tr><th id="L246">246</th><td/></tr><tr><th id="L247">247</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5098.writeDerivedClasses">writeDerivedClasses</dfn>()</td></tr><tr><th id="L248">248</th><td>{</td></tr><tr><th id="L249">249</th><td>  std::vector&lt;SymbolId&gt; derived_classes = snapshot.listDerivedClasses(symbol.id);</td></tr><tr><th id="L250">250</th><td/></tr><tr><th id="L251">251</th><td>  <b>if</b> (derived_classes.empty())</td></tr><tr><th id="L252">252</th><td>    <b>return</b>;</td></tr><tr><th id="L253">253</th><td/></tr><tr><th id="L254">254</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4988.p">p</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L255">255</th><td>  {</td></tr><tr><th id="L256">256</th><td>    <a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a> <a href="../include/csnap/exporter/htmlpage.h.html#L92" class="fn" sym-ref="4960.operator<<">&lt;&lt;</a> <var>"Known derived classes: "</var>;</td></tr><tr><th id="L257">257</th><td/></tr><tr><th id="L258">258</th><td>    <b>for</b> (size_t i(<var>0</var>); i &lt; derived_classes.size(); ++i)</td></tr><tr><th id="L259">259</th><td>    {</td></tr><tr><th id="L260">260</th><td>      std::shared_ptr&lt;Symbol&gt; basesymbol = snapshot.getSymbol(derived_classes.at(i));</td></tr><tr><th id="L261">261</th><td/></tr><tr><th id="L262">262</th><td>      <b>if</b> (!basesymbol)</td></tr><tr><th id="L263">263</th><td>        <b>continue</b>;</td></tr><tr><th id="L264">264</th><td/></tr><tr><th id="L265">265</th><td>      html::a(page);</td></tr><tr><th id="L266">266</th><td/></tr><tr><th id="L267">267</th><td>      html::attr(page, <var>"href"</var>, SourceHighlighter::symbol_symref(*basesymbol) + <var>".html"</var>);</td></tr><tr><th id="L268">268</th><td/></tr><tr><th id="L269">269</th><td>      page &lt;&lt; basesymbol-&gt;name;</td></tr><tr><th id="L270">270</th><td>      html::enda(page);</td></tr><tr><th id="L271">271</th><td/></tr><tr><th id="L272">272</th><td>      page &lt;&lt; ((i != derived_classes.size() - <var>1</var>) ? <var>", "</var> : <var>"."</var>);</td></tr><tr><th id="L273">273</th><td>    }</td></tr><tr><th id="L274">274</th><td>  }</td></tr><tr><th id="L275">275</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L158" class="fn" sym-ref="4989.endp">endp</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L276">276</th><td>}</td></tr><tr><th id="L277">277</th><td/></tr><tr><th id="L278">278</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5099.writeDecls">writeDecls</dfn>(<em>const</em> std::vector&lt;SymbolReference&gt;&amp; list)</td></tr><tr><th id="L279">279</th><td>{</td></tr><tr><th id="L280">280</th><td>  <b>for</b> (<em>const</em> SymbolReference&amp; d : list)</td></tr><tr><th id="L281">281</th><td>  {</td></tr><tr><th id="L282">282</th><td>    <em>const</em> File* f = snapshot.files().get(FileId(d.file_id));</td></tr><tr><th id="L283">283</th><td>    <b>if</b> (!f)</td></tr><tr><th id="L284">284</th><td>      <b>continue</b>;</td></tr><tr><th id="L285">285</th><td/></tr><tr><th id="L286">286</th><td>    html::p(page);</td></tr><tr><th id="L287">287</th><td>    {</td></tr><tr><th id="L288">288</th><td>      std::string href = page.links().linkTo(*f, d.line);</td></tr><tr><th id="L289">289</th><td>      std::string text = f-&gt;path + <var>":"</var> + std::to_string(d.line);</td></tr><tr><th id="L290">290</th><td/></tr><tr><th id="L291">291</th><td>      <b>if</b> (!href.empty())</td></tr><tr><th id="L292">292</th><td>      {</td></tr><tr><th id="L293">293</th><td>        html::a(page, { { <var>"href"</var>, href } });</td></tr><tr><th id="L294">294</th><td>        page &lt;&lt; text;</td></tr><tr><th id="L295">295</th><td>        html::enda(page);</td></tr><tr><th id="L296">296</th><td>      }</td></tr><tr><th id="L297">297</th><td>      <b>else</b></td></tr><tr><th id="L298">298</th><td>      {</td></tr><tr><th id="L299">299</th><td>        page &lt;&lt; text;</td></tr><tr><th id="L300">300</th><td>      }</td></tr><tr><th id="L301">301</th><td>    }</td></tr><tr><th id="L302">302</th><td>    html::endp(page);</td></tr><tr><th id="L303">303</th><td>  }</td></tr><tr><th id="L304">304</th><td>}</td></tr><tr><th id="L305">305</th><td/></tr><tr><th id="L306">306</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5100.writeUses">writeUses</dfn>(<em>const</em> std::vector&lt;SymbolReference&gt;&amp; list)</td></tr><tr><th id="L307">307</th><td>{</td></tr><tr><th id="L308">308</th><td>  <b>auto</b> begin = list.begin();</td></tr><tr><th id="L309">309</th><td/></tr><tr><th id="L310">310</th><td>  <b>while</b> (begin != list.end())</td></tr><tr><th id="L311">311</th><td>  {</td></tr><tr><th id="L312">312</th><td>    <b>auto</b> it = std::find_if(begin, list.end(), [begin](<em>const</em> SymbolReference&amp; r) {</td></tr><tr><th id="L313">313</th><td>      <b>return</b> r.file_id != begin-&gt;file_id;</td></tr><tr><th id="L314">314</th><td>      });</td></tr><tr><th id="L315">315</th><td/></tr><tr><th id="L316">316</th><td>    writeUsesInFile(begin, it);</td></tr><tr><th id="L317">317</th><td/></tr><tr><th id="L318">318</th><td>    begin = it;</td></tr><tr><th id="L319">319</th><td>  }</td></tr><tr><th id="L320">320</th><td>}</td></tr><tr><th id="L321">321</th><td/></tr><tr><th id="L322">322</th><td><em>void</em> <a href="../include/csnap/exporter/symbolpage.h.html#L16" class="type cxxclass" sym-ref="5087.SymbolPageGenerator">SymbolPageGenerator</a>::<dfn class="member memfn" sym-ref="5101.writeUsesInFile">writeUsesInFile</dfn>(RefIterator begin, RefIterator end)</td></tr><tr><th id="L323">323</th><td>{</td></tr><tr><th id="L324">324</th><td>  <b>if</b> (begin == end)</td></tr><tr><th id="L325">325</th><td>    <b>return</b>;</td></tr><tr><th id="L326">326</th><td/></tr><tr><th id="L327">327</th><td>  <em>const</em> <a href="../../model/include/csnap/model/file.h.html#L15" class="type struct" sym-ref="4532.File">File</a>* f = snapshot.files().get(FileId(begin-&gt;file_id));</td></tr><tr><th id="L328">328</th><td/></tr><tr><th id="L329">329</th><td>  <b>if</b> (!f)</td></tr><tr><th id="L330">330</th><td>    <b>return</b>;</td></tr><tr><th id="L331">331</th><td/></tr><tr><th id="L332">332</th><td>  <a href="../../indexer/libclang-utils/include/libclang-utils/clang-cursor.h.html#L526" class="namespace" sym-ref="4.std">std</a>::<span class="type cxxclass" sym-ref="506.shared_ptr">shared_ptr</span>&lt;<a href="../../model/include/csnap/model/filecontent.h.html#L20" class="type cxxclass" sym-ref="4537.FileContent">FileContent</a>&gt; content = snapshot.getFileContent(f-&gt;id);</td></tr><tr><th id="L333">333</th><td/></tr><tr><th id="L334">334</th><td>  <b>if</b> (!content)</td></tr><tr><th id="L335">335</th><td>    <b>return</b>;</td></tr><tr><th id="L336">336</th><td/></tr><tr><th id="L337">337</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L157" class="fn" sym-ref="4986.h3">h3</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L338">338</th><td>  page &lt;&lt; f-&gt;path &lt;&lt; <var>" ("</var> &lt;&lt; (<em>int</em>)std::distance(begin, end) &lt;&lt; <var>")"</var>;</td></tr><tr><th id="L339">339</th><td>  <a href="../include/csnap/exporter/htmlpage.h.html#L98" class="namespace" sym-ref="4961.html">html</a>::<a href="../include/csnap/exporter/htmlpage.h.html#L157" class="fn" sym-ref="4987.endh3">endh3</a>(<a href="../include/csnap/exporter/symbolpage.h.html#L19" class="member field" sym-ref="5088.page">page</a>);</td></tr><tr><th id="L340">340</th><td/></tr><tr><th id="L341">341</th><td>  <i>/*SourceHighlighter highlighter{ page.xml };</i></td></tr><tr><th id="L342">342</th><td><i></i></td></tr><tr><th id="L343">343</th><td><i>  for (auto it = begin; it != end; ++it)</i></td></tr><tr><th id="L344">344</th><td><i>  {</i></td></tr><tr><th id="L345">345</th><td><i>    const SymbolReference&amp; ref = *it;</i></td></tr><tr><th id="L346">346</th><td><i></i></td></tr><tr><th id="L347">347</th><td><i>    page.xml.writeStartElement("div");</i></td></tr><tr><th id="L348">348</th><td><i>    page.xml.writeAttribute("class", "code");</i></td></tr><tr><th id="L349">349</th><td><i>    highlighter.writeLineSource(ref.line);</i></td></tr><tr><th id="L350">350</th><td><i>    page.xml.writeEndElement();</i></td></tr><tr><th id="L351">351</th><td><i>  }*/</i></td></tr><tr><th id="L352">352</th><td/></tr><tr><th id="L353">353</th><td/></tr><tr><th id="L354">354</th><td>  <span class="namespace" sym-ref="2715.cpptok">cpptok</span>::<a href="../cpptok/include/cpptok/tokenizer.h.html#L34" class="type cxxclass" sym-ref="2890.Tokenizer">Tokenizer</a> <a href="../cpptok/include/cpptok/tokenizer.h.html#L73" class="member constructor" sym-ref="2896.Tokenizer">lexer</a>;</td></tr><tr><th id="L355">355</th><td/></tr><tr><th id="L356">356</th><td>  <b>for</b> (<b>auto</b> it = begin; it != end; ++it)</td></tr><tr><th id="L357">357</th><td>  {</td></tr><tr><th id="L358">358</th><td>    <em>const</em> SymbolReference&amp; ref = *it;</td></tr><tr><th id="L359">359</th><td>    std::string_view linetext = content-&gt;lines.at(ref.line - <var>1</var>);</td></tr><tr><th id="L360">360</th><td/></tr><tr><th id="L361">361</th><td>    html::div(page, { {<var>"class"</var>, <var>"use"</var>} });</td></tr><tr><th id="L362">362</th><td>    {</td></tr><tr><th id="L363">363</th><td>      html::div(page, { {<var>"class"</var>, <var>"ln"</var>} });</td></tr><tr><th id="L364">364</th><td>      {</td></tr><tr><th id="L365">365</th><td>        html::a(page, { { <var>"href"</var>, page.links().linkTo(*f, ref.line) } });</td></tr><tr><th id="L366">366</th><td>        page &lt;&lt; std::to_string(ref.line);</td></tr><tr><th id="L367">367</th><td>        html::enda(page);</td></tr><tr><th id="L368">368</th><td>      }</td></tr><tr><th id="L369">369</th><td>      html::enddiv(page);</td></tr><tr><th id="L370">370</th><td/></tr><tr><th id="L371">371</th><td>      html::div(page, { {<var>"class"</var>, <var>"code"</var>} });</td></tr><tr><th id="L372">372</th><td/></tr><tr><th id="L373">373</th><td>      <b>if</b> (ref.flags &amp; SymbolReference::Implicit)</td></tr><tr><th id="L374">374</th><td>      {</td></tr><tr><th id="L375">375</th><td>        page &lt;&lt; linetext;</td></tr><tr><th id="L376">376</th><td>      }</td></tr><tr><th id="L377">377</th><td>      <b>else</b></td></tr><tr><th id="L378">378</th><td>      {</td></tr><tr><th id="L379">379</th><td>        size_t col = <b>static_cast</b>&lt;size_t&gt;(ref.col) - <var>1</var>;</td></tr><tr><th id="L380">380</th><td>        page &lt;&lt; linetext.substr(<var>0</var>, col);</td></tr><tr><th id="L381">381</th><td/></tr><tr><th id="L382">382</th><td>        lexer.tokenize(linetext.data() + col, linetext.size() - col);</td></tr><tr><th id="L383">383</th><td/></tr><tr><th id="L384">384</th><td>        html::span(page, { {<var>"class"</var>, <var>"here"</var>} });</td></tr><tr><th id="L385">385</th><td>        page &lt;&lt; lexer.output.front().text();</td></tr><tr><th id="L386">386</th><td>        html::endspan(page);</td></tr><tr><th id="L387">387</th><td/></tr><tr><th id="L388">388</th><td>        page &lt;&lt; linetext.substr(col + lexer.output.front().text().size());</td></tr><tr><th id="L389">389</th><td/></tr><tr><th id="L390">390</th><td>        lexer.output.clear();</td></tr><tr><th id="L391">391</th><td>      }</td></tr><tr><th id="L392">392</th><td>      html::enddiv(page);</td></tr><tr><th id="L393">393</th><td>    }</td></tr><tr><th id="L394">394</th><td>    html::enddiv(page);</td></tr><tr><th id="L395">395</th><td>  }</td></tr><tr><th id="L396">396</th><td>}</td></tr><tr><th id="L397">397</th><td/></tr><tr><th id="L398">398</th><td>} <i>// namespace csnap</i></td></tr></tbody></table></div></body></html>